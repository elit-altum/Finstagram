{"version":3,"sources":["components/Layout.js","components/Header.js","router/PrivateRoute.js","router/PublicRoute.js","components/NotFound.js","components/likesArray.js","components/Post.js","components/Timeline.js","components/Loader.js","components/Login.js","components/Signup.js","components/Comment.js","components/Comments.js","components/PostDetails.js","components/UserProfile.js","components/CreatePost.js","components/EditUserProfile.js","components/SearchUsers.js","components/PageNotFound.js","router/router.js","index.js"],"names":["Layout","props","className","children","logout","a","axios","url","method","toast","success","autoClose","pauseOnHover","setTimeout","window","location","reload","error","Msg","closeToast","user","username","toUpperCase","onClick","history","push","Header","to","src","photo","alt","renderCounter","PrivateRoute","Component","component","rest","useState","isAuthenticated","setIsAuthenticated","useEffect","get","then","res","data","catch","err","response","status","UserCard","name","NotFound","message","randomUsers","setRandomUsers","fetchRandomUsers","users","length","map","key","id","UserInfoSmall","LikesArray","likes","like","likedBy","_id","Post","post","likedByMe","isLiked","setIsLiked","setLikes","isLikeModalOpen","setIsLikeModalOpen","allLikes","setAllLikes","showLikes","likers","createLike","removeLike","handleLike","likedCopy","createdBy","onDoubleClick","style","color","caption","comments","date","givenDate","Date","setHours","0","86400000","now","toLocaleDateString","year","month","day","getTime","createdAt","isOpen","onRequestClose","ariaHideApp","contentLabel","closeTimeoutMS","defaultProps","dimensions","updatedAt","__v","Timeline","posts","setPosts","fetchPost","title","LoginForm","isLoading","setIsLoading","sendFormData","e","preventDefault","document","getElementById","value","password","onSubmit","type","required","placeholder","disabled","Loader","Signup","email","passwordConfirm","class","Comment","comment","removeComment","isUser","body","Comments","setComments","createComment","concat","commentId","console","log","newArray","filter","fetchComments","PostDetails","postId","useParams","setPost","results","UserProfile","notMe","setUser","isModalOpen","setIsModalOpen","usersArray","setUsersArray","openModal","followUser","newFollowersCount","followersCount","followedByMe","unfollowUser","fetchUser","fetchFollows","follows","fetchFollowers","followers","postsCount","followCount","CreatePost","uploaded","setUploaded","form","FormData","append","files","accept","onChange","htmlFor","EditUserProfile","uploadedText","setUploadedText","sendUpdateData","sendPasswordData","oldPassword","newPassword","confirmPassword","defaultValue","marginTop","SearchUsers","setUsers","loading","setLoading","text","setText","asyncFunction","search","asyncFunctionDebounced","AwesomeDebouncePromise","handleTextChange","target","autoComplete","PageNotFound","createBrowserHistory","AppRouter","PublicRoute","path","SignupForm","exact","PostDetail","jsx","position","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","ReactDOM","render"],"mappings":"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","file":"static/js/main.3cf50f2e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Layout = (props) => <div className=\"layout\">{props.children}</div>;\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst logout = async () => {\r\n\tconst url = \"/api/v1/users/logout\";\r\n\ttry {\r\n\t\tawait axios({\r\n\t\t\turl,\r\n\t\t\tmethod: \"GET\",\r\n\t\t});\r\n\t\ttoast.success(\"Logged out successfully!\", {\r\n\t\t\tautoClose: 2000,\r\n\t\t\tpauseOnHover: false,\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\twindow.location.reload(true);\r\n\t\t}, 2000);\r\n\t} catch (err) {\r\n\t\ttoast.error(\"Error logging out. Please try again later.\");\r\n\t}\r\n};\r\n\r\nconst Msg = ({ closeToast, user }) => (\r\n\t<div className=\"header-toast\">\r\n\t\t<p>{user.username.toUpperCase()}</p>\r\n\t\t<button className=\"header-toast-logout\" onClick={logout}>\r\n\t\t\tLogout\r\n\t\t</button>\r\n\t\t<button onClick={() => history.push(`/user/${user.username}`)}>\r\n\t\t\tMy Profile\r\n\t\t</button>\r\n\t</div>\r\n);\r\n\r\nconst Header = ({ user }) => {\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav className=\"header\">\r\n\t\t\t\t<div className=\"header-content\">\r\n\t\t\t\t\t<div className=\"header-logo\">\r\n\t\t\t\t\t\t<Link to=\"/\">Finstagram</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul className=\"header-navLinks\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={user.photo}\r\n\t\t\t\t\t\t\t\talt={`${user.username}'s profile`}\r\n\t\t\t\t\t\t\t\tclassName=\"header-profile\"\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\ttoast(<Msg user={user} />, {\r\n\t\t\t\t\t\t\t\t\t\tautoClose: 10000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { history } from \"./router\";\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Header from \"../components/Header\";\r\n\r\nlet renderCounter = 0;\r\nlet user = {};\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst [isAuthenticated, setIsAuthenticated] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(\"/api/v1/users/isLoggedIn\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\trenderCounter++;\r\n\t\t\t\tuser = res.data.data.user;\r\n\t\t\t\treturn setIsAuthenticated(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\trenderCounter++;\r\n\t\t\t\t// console.log(err.response.status === 401);\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\treturn setIsAuthenticated(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\tisAuthenticated ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Header user={user} />\r\n\t\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t\t<Component {...props} user={user} />\r\n\t\t\t\t\t\t</Layout>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t!!renderCounter && <Redirect to=\"/login\" />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport Layout from \"../components/Layout\";\r\n\r\nlet renderCounter = 0;\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst [isAuthenticated, setIsAuthenticated] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(\"/api/v1/users/isLoggedIn\")\r\n\t\t\t.then(() => {\r\n\t\t\t\trenderCounter++;\r\n\t\t\t\treturn setIsAuthenticated(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\trenderCounter++;\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\treturn setIsAuthenticated(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\t!isAuthenticated\r\n\t\t\t\t\t? !!renderCounter && (\r\n\t\t\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t\t\t\t</Layout>\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: !!renderCounter && <Redirect to=\"/\" />\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FaRegSadTear as SadIcon } from \"react-icons/fa\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst UserCard = ({ user }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"discover__userCard\"\r\n\t\t\tonClick={() => history.push(`/user/${user.username}`)}\r\n\t\t>\r\n\t\t\t<img src={user.photo} alt=\"User profile\" />\r\n\t\t\t<h3>{user.username}</h3>\r\n\t\t\t<p>{user.name}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst NotFound = ({ message }) => {\r\n\tconst [randomUsers, setRandomUsers] = useState([]);\r\n\tconst fetchRandomUsers = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = \"/api/v1/users/random\";\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetRandomUsers(res.data.data.users);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"not-found-container\">\r\n\t\t\t<div className=\"not-found__icon\">\r\n\t\t\t\t<SadIcon />\r\n\t\t\t</div>\r\n\t\t\t<h2 className=\"not-found__message\">{message}</h2>\r\n\t\t\t<button className=\"discover__button\" onClick={fetchRandomUsers}>\r\n\t\t\t\tFind People\r\n\t\t\t</button>\r\n\t\t\t{!!randomUsers.length && (\r\n\t\t\t\t<div className=\"discover__users\">\r\n\t\t\t\t\t{randomUsers.map((user) => (\r\n\t\t\t\t\t\t<UserCard user={user} key={user.id} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nexport const UserInfoSmall = ({ user }) => {\r\n\treturn (\r\n\t\t<div className=\"like-modal__item\">\r\n\t\t\t<div className=\"like-modal__item--profile\">\r\n\t\t\t\t<img src={`${user.photo}`} alt={`${user.username}'s profile`} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"like-modal__item--names\">\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"like-modal__item--username\"\r\n\t\t\t\t\tonClick={() => history.push(`/user/${user.username}`)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{user.username}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"like-modal__item--name\">{user.name}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst LikesArray = ({ likes }) => {\r\n\treturn (\r\n\t\t<div className=\"like-modal__list\">\r\n\t\t\t<h3>Liked By</h3>\r\n\t\t\t{likes.map((like) => (\r\n\t\t\t\t<UserInfoSmall user={like.likedBy} key={like._id} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LikesArray;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-modal\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport LikesArray from \"./likesArray\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nimport {\r\n\tAiOutlineHeart as HeartOutline,\r\n\tAiFillHeart as HeartFill,\r\n} from \"react-icons/ai\";\r\nimport { AiOutlineComment as CommentOutline } from \"react-icons/ai\";\r\n\r\nconst Post = ({ post }) => {\r\n\tconst [isLiked, setIsLiked] = useState(post.likedByMe);\r\n\tconst [likes, setLikes] = useState(post.likes * 1);\r\n\tconst [isLikeModalOpen, setIsLikeModalOpen] = useState(false);\r\n\tconst [allLikes, setAllLikes] = useState([]);\r\n\r\n\tconst openLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(true);\r\n\t};\r\n\r\n\tconst closeLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(false);\r\n\t};\r\n\r\n\tconst showLikes = async () => {\r\n\t\tconst url = `/api/v1/posts/${post.id}/likedBy`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetAllLikes(res.data.data.likers);\r\n\t\t} catch (err) {}\r\n\t\topenLikeModal();\r\n\t};\r\n\r\n\tconst getTime = (date) => {\r\n\t\tconst givenDate = new Date(date).setHours(0, 0, 0, 0);\r\n\t\tconst today = new Date(Date.now()).setHours(0, 0, 0, 0);\r\n\r\n\t\tconst difference = today - givenDate;\r\n\r\n\t\tconst dateObj = {\r\n\t\t\t0: \"Today\",\r\n\t\t\t86400000: \"Yesterday\",\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\tdateObj[difference] ||\r\n\t\t\tnew Date(date).toLocaleDateString(\"en-us\", {\r\n\t\t\t\tyear: \"numeric\",\r\n\t\t\t\tmonth: \"long\",\r\n\t\t\t\tday: \"numeric\",\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst createLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${post.id}/like`;\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\t// console.log(err.response);\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t}\r\n\t};\r\n\r\n\tconst removeLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${post.id}/unlike`;\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\t// console.log(err.response);\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLike = async () => {\r\n\t\tconst likedCopy = isLiked;\r\n\t\tsetIsLiked(!isLiked);\r\n\r\n\t\tif (likedCopy) {\r\n\t\t\tsetLikes(likes - 1);\r\n\t\t\tawait removeLike();\r\n\t\t} else {\r\n\t\t\tsetLikes(likes + 1);\r\n\t\t\tawait createLike();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t!!post.id && (\r\n\t\t\t<div className=\"postCard\">\r\n\t\t\t\t<div className=\"postCard__userInfo\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.createdBy.photo}\r\n\t\t\t\t\t\talt={`${post.createdBy.username}'s profile`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p onClick={() => history.push(`/user/${post.createdBy.username}`)}>\r\n\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postCard__image\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.photo}\r\n\t\t\t\t\t\talt={`${post.createdBy.username}'s post`}\r\n\t\t\t\t\t\tonDoubleClick={handleLike}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postCard__meta\">\r\n\t\t\t\t\t<div className=\"postCard__meta--icons\">\r\n\t\t\t\t\t\t{isLiked ? (\r\n\t\t\t\t\t\t\t<HeartFill style={{ color: \"#b71c1c\" }} onClick={handleLike} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<HeartOutline onClick={handleLike} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Link to={`/post/${post.id}`}>\r\n\t\t\t\t\t\t\t<CommentOutline />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!!likes && (\r\n\t\t\t\t\t<p onClick={showLikes} className=\"postCard__likes\">\r\n\t\t\t\t\t\t{`${likes} ${likes === 1 ? \"like\" : \"likes\"}`}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"postCard__caption\">\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"postCard__caption--username\"\r\n\t\t\t\t\t\tonClick={() => history.push(`/user/${post.createdBy.username}`)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"postCard__caption--body\">{post.caption}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!!post.comments && (\r\n\t\t\t\t\t<Link to={`/post/${post.id}`} className=\"postCard__comments\">\r\n\t\t\t\t\t\t<p>{`View ${post.comments} ${\r\n\t\t\t\t\t\t\tpost.comments === 1 ? \"comment\" : \"comments\"\r\n\t\t\t\t\t\t}`}</p>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t\t<p className=\"postCard__date\">{getTime(post.createdAt)}</p>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={isLikeModalOpen}\r\n\t\t\t\t\tonRequestClose={closeLikeModal}\r\n\t\t\t\t\tariaHideApp={false}\r\n\t\t\t\t\tcontentLabel=\"Like Modal\"\r\n\t\t\t\t\tcloseTimeoutMS={200}\r\n\t\t\t\t\tclassName=\"modal\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<LikesArray likes={allLikes} />\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default Post;\r\n\r\nPost.defaultProps = {\r\n\tpost: {\r\n\t\t_id: \"5edf5aec3561dd32206cecc1\",\r\n\t\tcaption: \"My Niece is good!\",\r\n\t\tphoto: \"/img/posts/post-5edf42f57e58a1049ca59e8a-1591696108114.jpg\",\r\n\t\tdimensions: \"1000 x 1000\",\r\n\t\tcreatedBy: {\r\n\t\t\tphoto: \"/img/user-profiles/default.png\",\r\n\t\t\t_id: \"5edf42f57e58a1049ca59e8a\",\r\n\t\t\tusername: \"jayantxk\",\r\n\t\t\tid: \"5edf42f57e58a1049ca59e8a\",\r\n\t\t},\r\n\t\tcreatedAt: \"2020-06-09T09:48:28.166Z\",\r\n\t\tupdatedAt: \"2020-06-09T09:48:28.166Z\",\r\n\t\t__v: 0,\r\n\t\tlikes: 21,\r\n\t\tcomments: 40,\r\n\t\tid: \"5edf5aec3561dd32206cecc1\",\r\n\t\tlikedByMe: false,\r\n\t},\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { BsSearch as SearchIcon } from \"react-icons/bs\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport Post from \"./Post\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nlet renderCounter = 0;\r\n\r\nconst Timeline = (props) => {\r\n\tconst [posts, setPosts] = useState([\"init\"]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchPost = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst url = \"/api/v1/posts/feed\";\r\n\t\t\t\tconst res = await axios({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t});\r\n\t\t\t\trenderCounter++;\r\n\t\t\t\tsetPosts(res.data.data.posts);\r\n\t\t\t} catch (err) {\r\n\t\t\t\trenderCounter++;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchPost();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"my-timeline\">\r\n\t\t\t{!!renderCounter &&\r\n\t\t\t\t(!!posts.length ? (\r\n\t\t\t\t\tposts.map((post) => <Post post={post} key={post.id} />)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"no-posts\">\r\n\t\t\t\t\t\t<NotFound\r\n\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\"No posts found. Please follow users to view a timeline.\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t<div className=\"cta-buttons\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"searchUsers-button\"\r\n\t\t\t\t\tonClick={() => history.push(\"/searchUsers\")}\r\n\t\t\t\t\ttitle=\"Search Users\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Timeline;\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n\treturn (\r\n\t\t<div className=\"loader\">\r\n\t\t\t<div className=\"loader__outer\"></div>\r\n\t\t\t<div className=\"loader__inner\"></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst LoginForm = () => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendFormData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\t\tconst username = document.getElementById(\"username_field\").value;\r\n\t\tconst password = document.getElementById(\"password_field\").value;\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/users/login\",\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\ttoast.success(\"Logged in successfully! Redirecting..\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login-page\">\r\n\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t<h2>Finstagram</h2>\r\n\t\t\t\t<form onSubmit={sendFormData} className=\"login-form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"username\"\r\n\t\t\t\t\t\tid=\"username_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\tid=\"password_field\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tNo account? <Link to=\"/signup\">Sign up</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst Signup = () => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendFormData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\t\tconst username = document.getElementById(\"username_field\").value;\r\n\t\tconst name = document.getElementById(\"name_field\").value;\r\n\t\tconst email = document.getElementById(\"email_field\").value;\r\n\t\tconst password = document.getElementById(\"password_field\").value;\r\n\t\tconst passwordConfirm = document.getElementById(\"passwordConfirm_field\")\r\n\t\t\t.value;\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/users/signup\",\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tpasswordConfirm,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\ttoast.success(\"New account created!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"login-page\">\r\n\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t<h2>Finstagram</h2>\r\n\t\t\t\t<form onSubmit={sendFormData} class=\"login-form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\tid=\"username_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\tid=\"name_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t\t\tid=\"email_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\tid=\"password_field\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"passwordConfirm\"\r\n\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\tid=\"passwordConfirm_field\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { AiFillDelete as DeleteIcon } from \"react-icons/ai\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst Comment = ({ comment, user, removeComment }) => {\r\n\tconst isUser = user.id === comment.createdBy.id;\r\n\treturn (\r\n\t\t<div className=\"comment\">\r\n\t\t\t<div className=\"comment--meta\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={comment.createdBy.photo}\r\n\t\t\t\t\talt={`${comment.createdBy.username}'s profile`}\r\n\t\t\t\t/>\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"comment--username\"\r\n\t\t\t\t\tonClick={() => history.push(`/user/${comment.createdBy.username}`)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{comment.createdBy.username}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"comment--body\">{comment.body}</p>\r\n\t\t\t</div>\r\n\t\t\t{!!isUser && (\r\n\t\t\t\t<div className=\"comment--delete\">\r\n\t\t\t\t\t<DeleteIcon\r\n\t\t\t\t\t\tonClick={() => removeComment(comment._id)}\r\n\t\t\t\t\t\ttitle=\"Delete Comment\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Comment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Comment from \"./Comment\";\r\n\r\nimport { AiOutlineSend as SendIcon } from \"react-icons/ai\";\r\n\r\nconst Comments = ({ id, user }) => {\r\n\tconst [comments, setComments] = useState([]);\r\n\r\n\tconst createComment = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: `/api/v1/posts/${id}/comments`,\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcomment: document.getElementById(\"comment-field\").value,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tdocument.getElementById(\"comment-field\").value = \"\";\r\n\t\t\tsetComments(comments.concat([res.data.data.comment]));\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst removeComment = async (commentId) => {\r\n\t\tconsole.log(`/api/v1/posts/${id}/comment/${commentId}`);\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: `/api/v1/posts/${id}/comment/${commentId}`,\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t});\r\n\t\t\tconst newArray = comments.filter((comment) => comment._id !== commentId);\r\n\t\t\tsetComments(newArray);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchComments = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await axios({\r\n\t\t\t\t\turl: `/api/v1/posts/${id}/comments`,\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t});\r\n\t\t\t\tsetComments(res.data.data.comments);\r\n\t\t\t} catch (err) {}\r\n\t\t};\r\n\t\tfetchComments();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"commentArray\">\r\n\t\t\t<h3>Comments</h3>\r\n\t\t\t<div className=\"commentsArray-list\">\r\n\t\t\t\t{comments.map((comment) => (\r\n\t\t\t\t\t<Comment\r\n\t\t\t\t\t\tcomment={comment}\r\n\t\t\t\t\t\tkey={comment._id}\r\n\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\tremoveComment={removeComment}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"createComment-form\">\r\n\t\t\t\t<form onSubmit={createComment}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tid=\"comment-field\"\r\n\t\t\t\t\t\tplaceholder=\"Add Comment\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"submit\">\r\n\t\t\t\t\t\t<SendIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nimport {\r\n\tAiOutlineHeart as HeartOutline,\r\n\tAiFillHeart as HeartFill,\r\n} from \"react-icons/ai\";\r\n\r\nimport Comments from \"./Comments\";\r\nimport LikesArray from \"./likesArray\";\r\n\r\nconst PostDetails = ({ user }) => {\r\n\tconst { postId } = useParams();\r\n\r\n\tconst [post, setPost] = useState({});\r\n\tconst [allLikes, setAllLikes] = useState();\r\n\r\n\tconst [isLiked, setIsLiked] = useState(post.likedByMe);\r\n\tconst [likes, setLikes] = useState(post.likes * 1);\r\n\tconst [isLikeModalOpen, setIsLikeModalOpen] = useState(false);\r\n\r\n\tconst fetchPost = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: `/api/v1/posts/one/${postId}`,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tconst post = res.data.results.post;\r\n\t\t\tsetPost(post);\r\n\t\t\tsetIsLiked(post.likedByMe);\r\n\t\t\tsetLikes(post.likes * 1);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPost();\r\n\t}, []);\r\n\r\n\tconst openLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(true);\r\n\t};\r\n\r\n\tconst closeLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(false);\r\n\t};\r\n\r\n\tconst showLikes = async () => {\r\n\t\tconst url = `/api/v1/posts/${postId}/likedBy`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetAllLikes(res.data.data.likers);\r\n\t\t\topenLikeModal();\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst getTime = (date) => {\r\n\t\tconst givenDate = new Date(date).setHours(0, 0, 0, 0);\r\n\t\tconst today = new Date(Date.now()).setHours(0, 0, 0, 0);\r\n\r\n\t\tconst difference = today - givenDate;\r\n\r\n\t\tconst dateObj = {\r\n\t\t\t0: \"Today\",\r\n\t\t\t86400000: \"Yesterday\",\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\tdateObj[difference] ||\r\n\t\t\tnew Date(date).toLocaleDateString(\"en-us\", {\r\n\t\t\t\tyear: \"numeric\",\r\n\t\t\t\tmonth: \"long\",\r\n\t\t\t\tday: \"numeric\",\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst createLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${postId}/like`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\t// console.log(res.data);\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t\t// console.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tconst removeLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${postId}/unlike`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\t// console.log(res.data);\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t\t// console.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLike = async () => {\r\n\t\tconst likedCopy = isLiked;\r\n\t\tsetIsLiked(!isLiked);\r\n\r\n\t\tif (likedCopy) {\r\n\t\t\tsetLikes(likes - 1);\r\n\t\t\tawait removeLike();\r\n\t\t} else {\r\n\t\t\tsetLikes(likes + 1);\r\n\t\t\tawait createLike();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t!!post.id && (\r\n\t\t\t<div className=\"postDetails\">\r\n\t\t\t\t<div className=\"postDetails--info\">\r\n\t\t\t\t\t<div className=\"postDetails--meta\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={post.createdBy.photo}\r\n\t\t\t\t\t\t\talt={`${post.createdBy.username}'s profile`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"postDetails--username\"\r\n\t\t\t\t\t\t\tonClick={() => history.push(`/user/${post.createdBy.username}`)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"postDetails--image\">\r\n\t\t\t\t\t\t<img src={post.photo} alt={`${post.createdBy.username}'s post`} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"postDetails__likes\">\r\n\t\t\t\t\t\t{isLiked ? (\r\n\t\t\t\t\t\t\t<HeartFill style={{ color: \"#b71c1c\" }} onClick={handleLike} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<HeartOutline onClick={handleLike} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{!!likes && (\r\n\t\t\t\t\t\t\t<p onClick={showLikes} className=\"postDetails__likes--count\">\r\n\t\t\t\t\t\t\t\t{`${likes} ${likes === 1 ? \"like\" : \"likes\"}`}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"postCard__date\">{getTime(post.createdAt)}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postDetails--details\">\r\n\t\t\t\t\t<Comments id={postId} user={user} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={isLikeModalOpen}\r\n\t\t\t\t\tonRequestClose={closeLikeModal}\r\n\t\t\t\t\tariaHideApp={false}\r\n\t\t\t\t\tcontentLabel=\"Like Modal\"\r\n\t\t\t\t\tcloseTimeoutMS={200}\r\n\t\t\t\t\tclassName=\"modal\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<LikesArray likes={allLikes} />\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default PostDetails;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport {\r\n\tAiOutlineHeart as HeartOutline,\r\n\tAiOutlineComment as CommentOutline,\r\n\tAiOutlinePlus as AddIcon,\r\n\tAiOutlineEdit as EditIcon,\r\n} from \"react-icons/ai\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport { UserInfoSmall } from \"./likesArray\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst Post = ({ post }) => {\r\n\treturn (\r\n\t\t<div className=\"post-container\">\r\n\t\t\t<img\r\n\t\t\t\tsrc={post.photo}\r\n\t\t\t\tclassName=\"post-container__image\"\r\n\t\t\t\talt=\"My-Post\"\r\n\t\t\t\tonClick={() => history.push(`/post/${post.id}`)}\r\n\t\t\t/>\r\n\t\t\t<div className=\"post-container__details\">\r\n\t\t\t\t<div className=\"post-container__details--likes\">\r\n\t\t\t\t\t<HeartOutline />\r\n\t\t\t\t\t<p>{post.likes}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"post-container__details--comments\">\r\n\t\t\t\t\t<CommentOutline />\r\n\t\t\t\t\t<p>{post.comments}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst UserProfile = (props) => {\r\n\tconst { username } = useParams();\r\n\r\n\tconst notMe = props.user.username !== username;\r\n\r\n\tconst [user, setUser] = useState();\r\n\tconst [posts, setPosts] = useState();\r\n\r\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n\tconst [usersArray, setUsersArray] = useState([]);\r\n\r\n\tconst openModal = () => {\r\n\t\tsetIsModalOpen(true);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetIsModalOpen(false);\r\n\t\tsetUsersArray([]);\r\n\t};\r\n\r\n\tconst followUser = async (username) => {\r\n\t\tlet newFollowersCount = user.followersCount + 1;\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\tfollowedByMe: true,\r\n\t\t\tfollowersCount: newFollowersCount,\r\n\t\t});\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/follow`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success(res.data.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\ttoast.success(err.response.data.error.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst unfollowUser = async (username) => {\r\n\t\tlet newFollowersCount = user.followersCount - 1;\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\tfollowedByMe: false,\r\n\t\t\tfollowersCount: newFollowersCount,\r\n\t\t});\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/unfollow`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success(res.data.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\ttoast.success(err.response.data.error.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchUser = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/user/${username}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetUser(res.data.data.user);\r\n\t\t\tsetPosts(res.data.data.posts);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst fetchFollows = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/follows`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetUsersArray(res.data.data.user.follows);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst fetchFollowers = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/followers`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetUsersArray(res.data.data.followers);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst showFollows = () => {\r\n\t\tfetchFollows();\r\n\t\topenModal();\r\n\t};\r\n\r\n\tconst showFollowers = () => {\r\n\t\tfetchFollowers();\r\n\t\topenModal();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUser();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t!!user &&\r\n\t\t!!posts && (\r\n\t\t\t<div className=\"user-page\">\r\n\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t<div className=\"user-profile\">\r\n\t\t\t\t\t\t<img src={user.photo} alt={`${user.username}'s profile`} />\r\n\t\t\t\t\t\t<p className=\"user-profile__name\">{user.name}</p>\r\n\t\t\t\t\t\t<p className=\"user-profile__username\">{user.username}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"user-meta\">\r\n\t\t\t\t\t\t<div className=\"user-stats\">\r\n\t\t\t\t\t\t\t<div className=\"user-stats--posts\">\r\n\t\t\t\t\t\t\t\t<h3>{user.postsCount}</h3>\r\n\t\t\t\t\t\t\t\t<p>Posts</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"user-stats--followers\" onClick={showFollowers}>\r\n\t\t\t\t\t\t\t\t<h3>{user.followersCount}</h3>\r\n\t\t\t\t\t\t\t\t<p>Followers</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"user-stats--follows\" onClick={showFollows}>\r\n\t\t\t\t\t\t\t\t<h3>{user.followCount}</h3>\r\n\t\t\t\t\t\t\t\t<p>Follows</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!!notMe &&\r\n\t\t\t\t\t\t\t(user.followedByMe ? (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"user-following-button\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => unfollowUser(user.username)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFollowing\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"user-follow-button\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => followUser(user.username)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFollow\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!!posts.length ? (\r\n\t\t\t\t\t<div className=\"user-posts\">\r\n\t\t\t\t\t\t{posts.map((post) => (\r\n\t\t\t\t\t\t\t<Post post={post} key={post._id} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<NotFound message={\"No posts yet.\"} />\r\n\t\t\t\t)}\r\n\t\t\t\t{!!!notMe && (\r\n\t\t\t\t\t<div className=\"cta-buttons\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"newPost-button\"\r\n\t\t\t\t\t\t\tonClick={() => history.push(\"/post/create\")}\r\n\t\t\t\t\t\t\ttitle=\"Create New Post\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"editMe-button\"\r\n\t\t\t\t\t\t\tonClick={() => history.push(\"/update\")}\r\n\t\t\t\t\t\t\ttitle=\"Edit Details\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={isModalOpen}\r\n\t\t\t\t\tonRequestClose={closeModal}\r\n\t\t\t\t\tariaHideApp={false}\r\n\t\t\t\t\tcontentLabel=\"Like Modal\"\r\n\t\t\t\t\tcloseTimeoutMS={200}\r\n\t\t\t\t\tclassName=\"modal\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{usersArray.map((user) => (\r\n\t\t\t\t\t\t<UserInfoSmall\r\n\t\t\t\t\t\t\tuser={user.follows.name ? user.follows : user.user}\r\n\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n\tBsFileEarmarkPlus as AddFileIcon,\r\n\tBsFileEarmarkCheck as UploadedFileIcon,\r\n} from \"react-icons/bs\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { history } from \"../router/router\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst CreatePost = () => {\r\n\tconst [uploaded, setUploaded] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendFormData = async (e) => {\r\n\t\tsetIsLoading(true);\r\n\t\te.preventDefault();\r\n\r\n\t\tconst form = new FormData();\r\n\t\tform.append(\"photo\", document.getElementById(\"photo_field\").files[0]);\r\n\t\tform.append(\"caption\", document.getElementById(\"caption_field\").value);\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/posts/create\",\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: form,\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success(\"New post created! Redirecting..\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thistory.push(\"/\");\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"login-page\">\r\n\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t<h2>New Post</h2>\r\n\t\t\t\t<form onSubmit={sendFormData} className=\"login-form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"caption\"\r\n\t\t\t\t\t\tplaceholder=\"Caption\"\r\n\t\t\t\t\t\tid=\"caption_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Photo\"\r\n\t\t\t\t\t\tid=\"photo_field\"\r\n\t\t\t\t\t\tonChange={() => setUploaded(true)}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<label htmlFor=\"photo_field\" className=\"upload-post-label\">\r\n\t\t\t\t\t\t{!uploaded ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<AddFileIcon />\r\n\t\t\t\t\t\t\t\t<p>Add Image</p>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<UploadedFileIcon />\r\n\t\t\t\t\t\t\t\t<p>Uploaded!</p>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { MdModeEdit as EditIcon } from \"react-icons/md\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { history } from \"../router/router\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst EditUserProfile = ({ user }) => {\r\n\tconst [uploadedText, setUploadedText] = useState(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendUpdateData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tconst form = new FormData();\r\n\t\tform.append(\"photo\", document.getElementById(\"photo_field\").files[0]);\r\n\t\tform.append(\"username\", document.getElementById(\"username_field\").value);\r\n\t\tform.append(\"email\", document.getElementById(\"email_field\").value);\r\n\t\tform.append(\"name\", document.getElementById(\"name_field\").value);\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/users/updateMe\",\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\tdata: form,\r\n\t\t\t});\r\n\t\t\tsetIsLoading(false);\r\n\r\n\t\t\ttoast.success(\"User details updated!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\t// console.log(err.response);\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendPasswordData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tconst oldPassword = document.getElementById(\"oldPassword_field\").value;\r\n\t\tconst newPassword = document.getElementById(\"newPassword_field\").value;\r\n\t\tconst confirmPassword = document.getElementById(\"passwordConfirm_field\")\r\n\t\t\t.value;\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/users/updatePassword\",\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\toldPassword,\r\n\t\t\t\t\tnewPassword,\r\n\t\t\t\t\tconfirmPassword,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success(\"Password successfully updated!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\t// console.log(err.response);\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"login-page\">\r\n\t\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t\t<h2>Update Profile</h2>\r\n\t\t\t\t\t<form onSubmit={sendUpdateData} className=\"login-form\">\r\n\t\t\t\t\t\t<div className=\"edit-image\">\r\n\t\t\t\t\t\t\t<p>{uploadedText}</p>\r\n\t\t\t\t\t\t\t<img src={user.photo} alt={`${user.name}'s profile`} />\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\thtmlFor=\"photo_field\"\r\n\t\t\t\t\t\t\t\tclassName=\"upload-profile-label\"\r\n\t\t\t\t\t\t\t\ttitle=\"Change Profile Picture\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Username</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\tid=\"username_field\"\r\n\t\t\t\t\t\t\tdefaultValue={user.username}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Name</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\tid=\"name_field\"\r\n\t\t\t\t\t\t\tdefaultValue={user.name}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Email</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t\t\t\tid=\"email_field\"\r\n\t\t\t\t\t\t\tdefaultValue={user.email}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tplaceholder=\"Photo\"\r\n\t\t\t\t\t\t\tid=\"photo_field\"\r\n\t\t\t\t\t\t\tonChange={() => setUploadedText(\"New profile uploaded!\")}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"login-page\" style={{ marginTop: \"-80px\" }}>\r\n\t\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t\t<h2>ChangePassword</h2>\r\n\t\t\t\t\t<form onSubmit={sendPasswordData} className=\"login-form\">\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Current Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"oldPassword\"\r\n\t\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\t\tid=\"oldPassword_field\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">New Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"Password\"\r\n\t\t\t\t\t\t\tname=\"newPassword\"\r\n\t\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\t\tid=\"newPassword_field\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Confirm Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"passwordConfirm\"\r\n\t\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\t\tid=\"passwordConfirm_field\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"login-form__submit\">\r\n\t\t\t\t\t\t\t{!isLoading ? <p>Update</p> : <Loader />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditUserProfile;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AwesomeDebouncePromise from \"awesome-debounce-promise\";\r\nimport { FcSearch as SearchIcon } from \"react-icons/fc\";\r\nimport { FaRegSadTear as SadIcon } from \"react-icons/fa\";\r\n\r\nimport { UserInfoSmall } from \"./likesArray\";\r\n\r\nconst SearchUsers = () => {\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [text, setText] = useState(\"\");\r\n\r\n\tconst asyncFunction = async (value) => {\r\n\t\ttry {\r\n\t\t\tconst url = \"/api/v1/users/search\";\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tsearch: value,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tsetUsers(res.data.data.users);\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status === 400) {\r\n\t\t\t\tsetUsers([\"1\"]);\r\n\t\t\t} else {\r\n\t\t\t\tsetUsers([]);\r\n\t\t\t}\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst asyncFunctionDebounced = AwesomeDebouncePromise(asyncFunction, 800);\r\n\r\n\tconst handleTextChange = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tsetLoading(true);\r\n\t\tsetUsers([\"1\"]);\r\n\t\tsetText(e.target.value);\r\n\t\tawait asyncFunctionDebounced(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"searchUsers\">\r\n\t\t\t<h3>Search Users</h3>\r\n\t\t\t<div className=\"searchUser-bar\">\r\n\t\t\t\t<div className=\"searchUser-bar__icon\">\r\n\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\tonChange={handleTextChange}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tclassName=\"searchUser-bar__input\"\r\n\t\t\t\t\tplaceholder=\"Search Users\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"searchUsers-results\">\r\n\t\t\t\t{!!text &&\r\n\t\t\t\t\t(!!users.length ? (\r\n\t\t\t\t\t\t!loading ? (\r\n\t\t\t\t\t\t\tusers.map((user) => <UserInfoSmall user={user} key={user._id} />)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"search-loader\"></div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"search-not-found\">\r\n\t\t\t\t\t\t\t<SadIcon />\r\n\t\t\t\t\t\t\t<p>No users found.</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchUsers;\r\n","import React from \"react\";\r\nimport { history } from \"../router/router\";\r\n\r\nconst PageNotFound = () => {\r\n\treturn (\r\n\t\t<div className=\"page-404\">\r\n\t\t\t<div className=\"page-404-content\">\r\n\t\t\t\t<h3>Page Not Found</h3>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<h2>404 Error</h2>\r\n\t\t\t\t\t<p>This page does not seem to exist :(</p>\r\n\t\t\t\t\t<button onClick={() => history.push(\"/\")}>Home</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React from \"react\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport PublicRoute from \"./PublicRoute\";\r\n\r\nimport Timeline from \"../components/Timeline\";\r\nimport LoginForm from \"../components/Login\";\r\nimport SignupForm from \"../components/Signup\";\r\nimport PostDetail from \"../components/PostDetails\";\r\nimport UserProfile from \"../components/UserProfile\";\r\nimport CreatePost from \"../components/CreatePost\";\r\nimport EditUserProfile from \"../components/EditUserProfile\";\r\nimport SearchUsers from \"../components/SearchUsers\";\r\nimport PageNotFound from \"../components/PageNotFound\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst AppRouter = (props) => (\r\n\t<Router history={history}>\r\n\t\t<Switch>\r\n\t\t\t<PublicRoute path=\"/login\" component={LoginForm} />\r\n\t\t\t<PublicRoute path=\"/signup\" component={SignupForm} />\r\n\r\n\t\t\t<PrivateRoute path=\"/\" component={Timeline} exact={true} />\r\n\t\t\t<PrivateRoute path=\"/post/create\" component={CreatePost} exact={true} />\r\n\t\t\t<PrivateRoute path=\"/post/:postId\" component={PostDetail} exact={true} />\r\n\t\t\t<PrivateRoute path=\"/update\" component={EditUserProfile} exact={true} />\r\n\t\t\t<PrivateRoute path=\"/searchUsers\" component={SearchUsers} exact={true} />\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/user/:username\"\r\n\t\t\t\tcomponent={UserProfile}\r\n\t\t\t\texact={true}\r\n\t\t\t/>\r\n\r\n\t\t\t<Route path=\"/\" component={PageNotFound} />\r\n\t\t</Switch>\r\n\t</Router>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport AppRouter from \"./router/router\";\n\nimport \"./styles/index.scss\";\n\nconst jsx = (\n\t<div>\n\t\t<ToastContainer\n\t\t\tposition=\"top-right\"\n\t\t\tautoClose={5000}\n\t\t\thideProgressBar={false}\n\t\t\tnewestOnTop={true}\n\t\t\tcloseOnClick\n\t\t\trtl={false}\n\t\t\tpauseOnFocusLoss\n\t\t\tdraggable\n\t\t\tpauseOnHover\n\t\t/>\n\t\t<AppRouter />\n\t</div>\n);\n\nReactDOM.render(jsx, document.getElementById(\"root\"));\n"],"sourceRoot":""}