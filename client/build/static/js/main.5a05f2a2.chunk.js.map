{"version":3,"sources":["reducers/authReducer.js","reducers/trendingReducer.js","reducers/timelineReducer.js","reducers/notificationReducer.js","sagas/api/index.js","sagas/index.js","store/index.js","components/Layout.js","components/Header.js","router/PrivateRoute.js","router/PublicRoute.js","components/NotFound.js","components/PageLoader.js","components/Loader.js","components/likesArray.js","components/Post.js","components/Timeline.js","components/TrendingPage.js","components/NearbyPosts.js","components/Login.js","components/Signup.js","components/Comment.js","components/Comments.js","components/PostDetails.js","components/UserProfile.js","utils/geoCode.js","components/CreatePost.js","components/EditUserProfile.js","components/SearchUsers.js","components/PageNotFound.js","components/Notifications.js","router/router.js","actions/index.js","index.js"],"names":["initialState","loading","user","reducer","state","action","type","posts","end","page","newPosts","concat","newPage","notifications","isLoggedIn","axios","get","getTimeline","getTrending","getNotifications","fetchAuthToken","fetchTimeline","fetchTimelineScrolling","fetchTrending","fetchNotifications","actionWatcher","rootSaga","call","api","res","put","data","length","takeLatest","all","sagaMiddleware","createSagaMiddleware","composeEnhancers","compose","store","createStore","combineReducers","auth","authReducer","trending","trendingReducer","timeline","timelineReducer","notificationReducer","applyMiddleware","run","mySaga","Layout","props","className","children","connect","notificationsLoading","dispatch","logoutUser","clearTimeline","logout","a","url","method","toast","success","autoClose","pauseOnHover","error","Msg","username","toUpperCase","onClick","history","push","showDot","read","to","src","photo","alt","Component","component","rest","UserCard","name","NotFound","message","useState","randomUsers","setRandomUsers","fetchRandomUsers","users","map","key","id","viewBox","cx","cy","r","fill","strokeWidth","UserInfoSmall","LikesArray","likes","like","likedBy","_id","Loader","timelinePosts","trendingPosts","updateTimeline","newTimeline","updateTrending","newTrending","post","rank","isNearby","likedByMe","isLiked","setIsLiked","setLikes","isLikeModalOpen","setIsLikeModalOpen","allLikes","setAllLikes","showLikeIcon","setShowLikeIcon","reputation","currReputation","setCurrReputation","reportedByMe","setReportedByMe","updateStore","postId","likesCount","forEach","fetchLikes","likers","createLike","setTimeout","removeLike","handleLike","likedCopy","handleReputation","status","useEffect","createdBy","locationName","location","coordinates","color","onDoubleClick","style","caption","comments","date","givenDate","Date","setHours","0","86400000","now","toLocaleDateString","year","month","day","getTime","createdAt","isOpen","onRequestClose","ariaHideApp","contentLabel","closeTimeoutMS","endOfPosts","loadingPosts","Number","ownProps","fetchScrollingTimeline","PageLoader","dataLength","next","hasMore","endMessage","loader","title","index","NearbyPosts","center","useParams","setPosts","setLoading","setLocationName","split","lng","lat","fetchPosts","mapboxgl","accessToken","Map","container","zoom","features","geometry","properties","description","marker","el","document","createElement","Marker","setLngLat","addTo","putToken","isLoading","setIsLoading","sendFormData","e","preventDefault","getElementById","value","password","response","onSubmit","required","placeholder","disabled","email","passwordConfirm","class","Comment","comment","removeComment","isUser","body","setComments","commentsCount","createComment","newArray","commentId","filter","fetchComments","setPost","fetchPost","results","console","log","Post","notMe","setUser","isModalOpen","setIsModalOpen","usersArray","setUsersArray","followersArray","setFollowersArray","followingArray","setFollowingArray","openModal","followUser","newFollowersCount","followersCount","followedByMe","unfollowUser","fetchUser","fetchFollows","follows","fetchFollowers","followers","postsCount","followCount","geoCode","keyword","encodeURIComponent","locationData","newLocationObject","place_name","longitude","latitude","globalLocation","uploaded","setUploaded","locations","setLocations","locationLoading","setLocationLoading","isValidLocation","setIsValidLocation","SearchResults","selectLocation","form","FormData","append","files","hasOwnProperty","asyncFunctionDebounced","AwesomeDebouncePromise","searchLocation","target","persist","mapBoxLocations","autoComplete","onChange","accept","htmlFor","EditUserProfile","uploadedText","setUploadedText","sendUpdateData","window","reload","sendPasswordData","oldPassword","newPassword","confirmPassword","defaultValue","marginTop","SearchUsers","setUsers","text","setText","asyncFunction","search","handleTextChange","PageNotFound","WelcomeNotification","href","data-icon","data-size","data-show-count","aria-label","Notification","notif","link","notifs","markNotifsAsRead","createBrowserHistory","checkNotifications","setInterval","PublicRoute","path","LoginForm","SignupForm","Timeline","exact","Trending","CreatePost","PostDetail","UserProfile","Notifications","jsx","position","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","ReactDOM","render"],"mappings":"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","file":"static/js/main.5a05f2a2.chunk.js","sourcesContent":["const initialState = {\r\n\tloading: true,\r\n\tuser: false,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"FETCH_AUTH_TOKEN\":\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase \"PUT_TOKEN\":\r\n\t\t\treturn { ...state, user: action.user, loading: false };\r\n\t\tcase \"USER_NOT_FOUND\":\r\n\t\t\treturn { ...state, user: false, loading: false };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"FETCH_TRENDING\":\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase \"PUT_TRENDING\":\r\n\t\t\treturn { ...state, posts: action.posts, loading: false };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"FETCH_TIMELINE\":\r\n\t\t\treturn { ...state, loading: true, end: false };\r\n\t\tcase \"PUT_TIMELINE\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: action.posts,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tend: false,\r\n\t\t\t};\r\n\t\tcase \"PUT_TIMELINE_ON_CHANGE\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: action.posts,\r\n\t\t\t};\r\n\t\tcase \"PUT_TIMELINE_SCROLL\":\r\n\t\t\tconst newPosts = state.posts.concat(action.posts);\r\n\t\t\tconst newPage = state.page + 1;\r\n\t\t\treturn { ...state, posts: newPosts, page: newPage, end: false };\r\n\t\tcase \"END_OF_TIMELINE\":\r\n\t\t\treturn { ...state, end: true };\r\n\t\tcase \"CLEAR_TIMELINE\":\r\n\t\t\treturn { ...state, posts: [], loading: false, end: false };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"FETCH_NOTIFICATIONS\":\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase \"CHECK_NOTIFICATIONS\":\r\n\t\t\treturn { ...state };\r\n\t\tcase \"PUT_NOTIFICATIONS\":\r\n\t\t\treturn { ...state, notifications: action.notifications, loading: false };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import axios from \"axios\";\r\n\r\n// ? 01. CHECK IF USER IS AUTHENTICATED\r\nexport function isLoggedIn() {\r\n\treturn axios.get(\"/api/v1/users/isLoggedIn\");\r\n}\r\n\r\n// ? 02. FETCH TIMELINE OF USER\r\nexport function getTimeline() {\r\n\treturn axios.get(\"/api/v1/posts/feed\");\r\n}\r\n\r\n// ? 03. FETCH TIMELINE PAGES OF USER\r\nexport function getTimelinePages(page) {\r\n\treturn axios.get(`/api/v1/posts/feed?page=${page}`);\r\n}\r\n\r\n// ? 04. FETCH TRENDING POSTS\r\nexport function getTrending() {\r\n\treturn axios.get(\"/api/v1/posts/trending\");\r\n}\r\n\r\n// ? 05. FETCH NOTIFICATIONS\r\nexport function getNotifications() {\r\n\treturn axios.get(\"/api/v1/users/notifications\");\r\n}\r\n","import { put, takeLatest, all, call } from \"redux-saga/effects\";\r\nimport * as api from \"./api\";\r\n\r\n// ? 01. GET USER TOKEN\r\nfunction* fetchAuthToken() {\r\n\ttry {\r\n\t\tconst res = yield call(api.isLoggedIn);\r\n\t\tyield put({ type: \"PUT_TOKEN\", user: res.data.data.user });\r\n\t} catch (e) {\r\n\t\tyield put({ type: \"USER_NOT_FOUND\" });\r\n\t}\r\n}\r\n\r\n// ? 02. GET USER TIMELINE\r\nfunction* fetchTimeline() {\r\n\ttry {\r\n\t\tconst res = yield call(api.getTimeline);\r\n\t\tyield put({ type: \"PUT_TIMELINE\", posts: res.data.data.posts });\r\n\t} catch (e) {}\r\n}\r\n\r\n// ? 03. GET USER TIMELINE\r\nfunction* fetchTimelineScrolling(state) {\r\n\ttry {\r\n\t\tconst res = yield call(() => api.getTimelinePages(state.page));\r\n\t\tif (res.data.data.posts.length) {\r\n\t\t\tyield put({ type: \"PUT_TIMELINE_SCROLL\", posts: res.data.data.posts });\r\n\t\t} else {\r\n\t\t\tyield put({ type: \"END_OF_TIMELINE\" });\r\n\t\t}\r\n\t} catch (e) {}\r\n}\r\n\r\n// ? 04. GET TRENDING POSTS\r\nfunction* fetchTrending() {\r\n\ttry {\r\n\t\tconst res = yield call(api.getTrending);\r\n\t\tyield put({ type: \"PUT_TRENDING\", posts: res.data.data.posts });\r\n\t} catch (e) {}\r\n}\r\n\r\n// ? 05. GET NOTIFICATIONS\r\nfunction* fetchNotifications() {\r\n\ttry {\r\n\t\tconst res = yield call(api.getNotifications);\r\n\t\tyield put({\r\n\t\t\ttype: \"PUT_NOTIFICATIONS\",\r\n\t\t\tnotifications: res.data.data.notifications,\r\n\t\t});\r\n\t} catch (e) {}\r\n}\r\n\r\nfunction* actionWatcher() {\r\n\tyield takeLatest(\"FETCH_AUTH_TOKEN\", fetchAuthToken);\r\n\tyield takeLatest(\"FETCH_TIMELINE\", fetchTimeline);\r\n\tyield takeLatest(\"FETCH_TIMELINE_SCROLLING\", fetchTimelineScrolling);\r\n\tyield takeLatest(\"FETCH_TRENDING\", fetchTrending);\r\n\tyield takeLatest(\"FETCH_NOTIFICATIONS\", fetchNotifications);\r\n\tyield takeLatest(\"CHECK_NOTIFICATIONS\", fetchNotifications);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n\tyield all([actionWatcher()]);\r\n}\r\n","// Configuring redux and redux-saga for global state management\r\nimport { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport authReducer from \"../reducers/authReducer\";\r\nimport trendingReducer from \"../reducers/trendingReducer\";\r\nimport timelineReducer from \"../reducers/timelineReducer\";\r\nimport notificationReducer from \"../reducers/notificationReducer\";\r\n\r\nimport mySaga from \"../sagas\";\r\n\r\n// Create the saga middleware\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst composeEnhancers =\r\n\tprocess.env.NODE_ENV === \"development\"\r\n\t\t? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\t\t: compose;\r\n\r\n// Mount it on the Store\r\nconst store = createStore(\r\n\tcombineReducers({\r\n\t\tauth: authReducer,\r\n\t\ttrending: trendingReducer,\r\n\t\ttimeline: timelineReducer,\r\n\t\tnotifications: notificationReducer,\r\n\t}),\r\n\tcomposeEnhancers(applyMiddleware(sagaMiddleware))\r\n);\r\n\r\nexport default store;\r\n\r\n// Run the saga\r\nsagaMiddleware.run(mySaga);\r\n","import React from \"react\";\r\n\r\nconst Layout = (props) => <div className=\"layout\">{props.children}</div>;\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { FaRegCompass as CompassIcon } from \"react-icons/fa\";\r\nimport { FaRegBell as BellIcon2 } from \"react-icons/fa\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Header = ({\r\n\tuser,\r\n\tlogoutUser,\r\n\tclearTimeline,\r\n\tnotifications,\r\n\tnotificationsLoading,\r\n}) => {\r\n\tconst logout = async () => {\r\n\t\tconst url = \"/api/v1/users/logout\";\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\ttoast.success(\"Logged out successfully!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t\tlogoutUser();\r\n\t\t\tclearTimeline();\r\n\t\t} catch (err) {\r\n\t\t\ttoast.error(\"Error logging out. Please try again later.\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst Msg = ({ user }) => (\r\n\t\t<div className=\"header-toast\">\r\n\t\t\t<p>{user.username.toUpperCase()}</p>\r\n\t\t\t<button className=\"header-toast-logout\" onClick={logout}>\r\n\t\t\t\tLogout\r\n\t\t\t</button>\r\n\t\t\t<button onClick={() => history.push(`/user/${user.username}`)}>\r\n\t\t\t\tMy Profile\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n\r\n\tlet showDot = notifications\r\n\t\t? !notificationsLoading && !notifications[0].read\r\n\t\t: false;\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav className=\"header\">\r\n\t\t\t\t<div className=\"header-content\">\r\n\t\t\t\t\t<div className=\"header-logo\">\r\n\t\t\t\t\t\t<Link to=\"/\">Finstagram</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul className=\"header-navLinks\">\r\n\t\t\t\t\t\t<li className=\"bell-icon\">\r\n\t\t\t\t\t\t\t{showDot && <div className=\"notif-red-dot\"></div>}\r\n\t\t\t\t\t\t\t<Link to=\"/notifications\">\r\n\t\t\t\t\t\t\t\t<BellIcon2 />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"discover-icon\">\r\n\t\t\t\t\t\t\t<Link to=\"/trending\">\r\n\t\t\t\t\t\t\t\t<CompassIcon />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={user.photo}\r\n\t\t\t\t\t\t\t\talt={`${user.username}'s profile`}\r\n\t\t\t\t\t\t\t\tclassName=\"header-profile\"\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\ttoast(<Msg user={user} />, {\r\n\t\t\t\t\t\t\t\t\t\tautoClose: 10000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tlogoutUser: () => dispatch({ type: \"USER_NOT_FOUND\" }),\r\n\tclearTimeline: () => dispatch({ type: \"CLEAR_TIMELINE\" }),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tloading: state.auth.loading,\r\n\tnotifications: state.notifications.notifications,\r\n\tnotificationsLoading: state.notifications.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Header from \"../components/Header\";\r\n\r\nconst PrivateRoute = ({ component: Component, user, loading, ...rest }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\t!loading && user ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t\t<Component {...props} user={user} />\r\n\t\t\t\t\t\t</Layout>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/login\" />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tloading: state.auth.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport Layout from \"../components/Layout\";\r\n\r\nconst PrivateRoute = ({ component: Component, user, loading, ...rest }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\t!user && !loading ? (\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tloading: state.auth.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(PrivateRoute);\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FaRegSadTear as SadIcon } from \"react-icons/fa\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst UserCard = ({ user }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"discover__userCard\"\r\n\t\t\tonClick={() => history.push(`/user/${user.username}`)}\r\n\t\t>\r\n\t\t\t<img src={user.photo} alt=\"User profile\" />\r\n\t\t\t<h3>{user.username}</h3>\r\n\t\t\t<p>{user.name}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst NotFound = ({ message }) => {\r\n\tconst [randomUsers, setRandomUsers] = useState([]);\r\n\tconst fetchRandomUsers = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = \"/api/v1/users/random\";\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetRandomUsers(res.data.data.users);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"not-found-container\">\r\n\t\t\t<div className=\"not-found__icon\">\r\n\t\t\t\t<SadIcon />\r\n\t\t\t</div>\r\n\t\t\t<h2 className=\"not-found__message\">{message}</h2>\r\n\t\t\t<button className=\"discover__button\" onClick={fetchRandomUsers}>\r\n\t\t\t\tFind People\r\n\t\t\t</button>\r\n\t\t\t{!!randomUsers.length && (\r\n\t\t\t\t<div className=\"discover__users\">\r\n\t\t\t\t\t{randomUsers.map((user) => (\r\n\t\t\t\t\t\t<UserCard user={user} key={user.id} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n\treturn (\r\n\t\t<div id=\"wrapper\">\r\n\t\t\t<div className=\"profile-main-loader\">\r\n\t\t\t\t<div className=\"loader\">\r\n\t\t\t\t\t<svg className=\"circular-loader\" viewBox=\"25 25 50 50\">\r\n\t\t\t\t\t\t<circle\r\n\t\t\t\t\t\t\tclassName=\"loader-path\"\r\n\t\t\t\t\t\t\tcx=\"50\"\r\n\t\t\t\t\t\t\tcy=\"50\"\r\n\t\t\t\t\t\t\tr=\"20\"\r\n\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n\treturn (\r\n\t\t<div className=\"loader\">\r\n\t\t\t<div className=\"loader__outer\"></div>\r\n\t\t\t<div className=\"loader__inner\"></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nimport { history } from \"../router/router\";\r\nimport Loader from \"./Loader\";\r\n\r\nexport const UserInfoSmall = ({ user }) => {\r\n\treturn (\r\n\t\t<div className=\"like-modal__item\">\r\n\t\t\t<div className=\"like-modal__item--profile\">\r\n\t\t\t\t<img src={`${user.photo}`} alt={`${user.username}'s profile`} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"like-modal__item--names\">\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"like-modal__item--username\"\r\n\t\t\t\t\tonClick={() => history.push(`/user/${user.username}`)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{user.username}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"like-modal__item--name\">{user.name}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst LikesArray = ({ likes }) => (\r\n\t<div className=\"like-modal__list\">\r\n\t\t<h3>Liked By</h3>\r\n\t\t{!!likes.length ? (\r\n\t\t\tlikes.map((like) => <UserInfoSmall user={like.likedBy} key={like._id} />)\r\n\t\t) : (\r\n\t\t\t<div className=\"likesLoader\">\r\n\t\t\t\t<Loader />\r\n\t\t\t</div>\r\n\t\t)}\r\n\t</div>\r\n);\r\n\r\nexport default LikesArray;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-modal\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport LikesArray from \"./likesArray\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nimport {\r\n\tAiOutlineHeart as HeartOutline,\r\n\tAiFillHeart as HeartFill,\r\n  AiFillCaretDown as CaretDown\r\n} from \"react-icons/ai\";\r\nimport { AiOutlineComment as CommentOutline } from \"react-icons/ai\";\r\n\r\nconst Post = ({\r\n\tpost,\r\n\trank,\r\n\ttimelinePosts,\r\n\ttrendingPosts,\r\n\tupdateTimeline,\r\n\tupdateTrending,\r\n  isNearby\r\n}) => {\r\n\tconst [isLiked, setIsLiked] = useState(post.likedByMe);\r\n\tconst [likes, setLikes] = useState(post.likes * 1);\r\n\tconst [isLikeModalOpen, setIsLikeModalOpen] = useState(false);\r\n\tconst [allLikes, setAllLikes] = useState([]);\r\n\tconst [showLikeIcon, setShowLikeIcon] = useState(false);\r\n  const [currReputation, setCurrReputation] = useState(post.reputation || 0);\r\n  const [reportedByMe, setReportedByMe] = useState(post.reportedByMe);\r\n\r\n\r\n\t// a. Calculate time of post creation\r\n\tconst getTime = (date) => {\r\n\t\tconst givenDate = new Date(date).setHours(0, 0, 0, 0);\r\n\t\tconst today = new Date(Date.now()).setHours(0, 0, 0, 0);\r\n\r\n\t\tconst difference = today - givenDate;\r\n\r\n\t\tconst dateObj = {\r\n\t\t\t0: \"Today\",\r\n\t\t\t86400000: \"Yesterday\",\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\tdateObj[difference] ||\r\n\t\t\tnew Date(date).toLocaleDateString(\"en-us\", {\r\n\t\t\t\tyear: \"numeric\",\r\n\t\t\t\tmonth: \"long\",\r\n\t\t\t\tday: \"numeric\",\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\t// b. Open Modal showing all likers\r\n\tconst openLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(true);\r\n\t};\r\n\r\n\t// c. Close Modal showing all likers\r\n\tconst closeLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(false);\r\n\t};\r\n\r\n\t// d. Update redux store when a post is liked/unliked\r\n\tconst updateStore = (postId, likesCount, likedByMe) => {\r\n\t\tconst newTimeline = [...timelinePosts];\r\n\t\tconst newTrending = [...trendingPosts];\r\n\r\n\t\t// 1. Update the likes count and likedByMe for timeline posts\r\n\t\tnewTimeline.forEach((post) => {\r\n\t\t\tif (post._id === postId) {\r\n\t\t\t\tpost.likedByMe = likedByMe;\r\n\t\t\t\tpost.likes = likesCount;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 2. Update the likes count and likedByMe for trending posts\r\n\t\tnewTrending.forEach((post) => {\r\n\t\t\tif (post._id === postId) {\r\n\t\t\t\tpost.likedByMe = likedByMe;\r\n\t\t\t\tpost.likes = likesCount;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tupdateTimeline(newTimeline);\r\n\t\tupdateTrending(newTrending);\r\n\t};\r\n\r\n\t// e. Fetch all users who liked a post\r\n\tconst fetchLikes = async () => {\r\n\t\tconst url = `/api/v1/posts/${post._id}/likedBy`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetAllLikes(res.data.data.likers);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\t// f. Inform the database that user has liked the post\r\n\tconst createLike = async () => {\r\n\t\tsetShowLikeIcon(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShowLikeIcon(false);\r\n\t\t}, 800);\r\n\t\tconst url = `/api/v1/posts/${post._id}/like`;\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t}\r\n\t};\r\n\r\n\t// g. Inform the database that user has unliked the post\r\n\tconst removeLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${post._id}/unlike`;\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t}\r\n\t};\r\n\r\n\t// h. Updates store and state using above func.\r\n\tconst handleLike = async () => {\r\n\t\tconst likedCopy = isLiked;\r\n\t\tsetIsLiked(!isLiked);\r\n\t\tsetAllLikes([]);\r\n\r\n\t\tif (likedCopy) {\r\n\t\t\tsetLikes(likes - 1);\r\n\t\t\tupdateStore(post._id, likes - 1, !likedCopy);\r\n\t\t\tawait removeLike();\r\n\t\t} else {\r\n\t\t\tsetLikes(likes + 1);\r\n\t\t\tupdateStore(post._id, likes + 1, !likedCopy);\r\n\t\t\tawait createLike();\r\n\t\t}\r\n\t\tawait fetchLikes();\r\n\t};\r\n\r\n  // i. Reputation update\r\n  const handleReputation = async () => {\r\n    if(reportedByMe) {\r\n      setCurrReputation(currReputation + 1);\r\n      setReportedByMe(false);\r\n      const url = `/api/v1/posts/utils/unReport`;\r\n      try {\r\n        await axios({\r\n          url,\r\n          method: \"POST\",\r\n          data: {\r\n            post: post._id\r\n          }\r\n        });\r\n      } catch (err) {\r\n        setCurrReputation(currReputation - 1);\r\n        setReportedByMe(true);\r\n      }\r\n    } else {\r\n      const url = `/api/v1/posts/utils/report`;\r\n      setCurrReputation(currReputation - 1);\r\n      setReportedByMe(true);\r\n      try {\r\n        await axios({\r\n          url,\r\n          method: \"POST\",\r\n          data: {\r\n            post: post._id,\r\n            status: \"spam\"\r\n          }\r\n        });\r\n        \r\n      } catch (err){\r\n        setCurrReputation(currReputation + 1);\r\n        setReportedByMe(false);\r\n      }  \r\n    }\r\n  }\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchLikes();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t!!post._id && (\r\n\t\t\t<div className=\"postCard\">\r\n\t\t\t\t<div className=\"postCard__userInfo\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.createdBy.photo}\r\n\t\t\t\t\t\talt={`${post.createdBy.username}'s profile`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"postCard__userInfo-meta\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"postCard__userInfo-username\"\r\n\t\t\t\t\t\t\tonClick={() => history.push(`/user/${post.createdBy.username}`)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{!!post.locationName && (\r\n\t\t\t\t\t\t\t<div className=\"postCard__location\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto={`/post/nearby/${post.location.coordinates[0]},${post.location.coordinates[1]}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<p>{post.locationName}</p>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n          {\r\n            isNearby && ( < div className = \"postCard__downvote\">\r\n                <CaretDown onClick = {handleReputation} color = {reportedByMe ? \"#f44336\" : \"\"}/>\r\n                <p>{currReputation}</p>\r\n              </div>\r\n            )\r\n\r\n          }\r\n\t\t\t\t</div>\r\n\t\t\t\t{!!rank && (\r\n\t\t\t\t\t<div className=\"postCard__trending\">\r\n\t\t\t\t\t\t<p># {rank} on trending</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"postCard__image\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.photo}\r\n\t\t\t\t\t\talt={`${post.createdBy.username}'s post`}\r\n\t\t\t\t\t\tonDoubleClick={handleLike}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{!!showLikeIcon && (\r\n\t\t\t\t\t\t<HeartFill className=\"postCase__image-like\" id=\"post-like-icon\" />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postCard__meta\">\r\n\t\t\t\t\t<div className=\"postCard__meta--icons\">\r\n\t\t\t\t\t\t{isLiked ? (\r\n\t\t\t\t\t\t\t<HeartFill style={{ color: \"#b71c1c\" }} onClick={handleLike} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<HeartOutline onClick={handleLike} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Link to={`/post/${post._id}`}>\r\n\t\t\t\t\t\t\t<CommentOutline />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!!likes && (\r\n\t\t\t\t\t<p onClick={openLikeModal} className=\"postCard__likes\">\r\n\t\t\t\t\t\t{`${likes} ${likes === 1 ? \"like\" : \"likes\"}`}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"postCard__caption\">\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"postCard__caption--username\"\r\n\t\t\t\t\t\tonClick={() => history.push(`/user/${post.createdBy.username}`)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"postCard__caption--body\">{post.caption}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!!post.comments && (\r\n\t\t\t\t\t<Link to={`/post/${post._id}`} className=\"postCard__comments\">\r\n\t\t\t\t\t\t<p>{`View ${post.comments} ${\r\n\t\t\t\t\t\t\tpost.comments === 1 ? \"comment\" : \"comments\"\r\n\t\t\t\t\t\t}`}</p>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t\t<p className=\"postCard__date\">{getTime(post.createdAt)}</p>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={isLikeModalOpen}\r\n\t\t\t\t\tonRequestClose={closeLikeModal}\r\n\t\t\t\t\tariaHideApp={false}\r\n\t\t\t\t\tcontentLabel=\"Like Modal\"\r\n\t\t\t\t\tcloseTimeoutMS={200}\r\n\t\t\t\t\tclassName=\"modal\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<LikesArray likes={allLikes} />\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\ttimelinePosts: state.timeline.posts,\r\n\ttrendingPosts: state.trending.posts,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tupdateTimeline: (newTimeline) =>\r\n\t\tdispatch({ type: \"PUT_TIMELINE_ON_CHANGE\", posts: newTimeline }),\r\n\tupdateTrending: (newTrending) =>\r\n\t\tdispatch({ type: \"PUT_TRENDING\", posts: newTrending }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nimport { BsSearch as SearchIcon } from \"react-icons/bs\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport PageLoader from \"./PageLoader\";\r\nimport Post from \"./Post\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst endOfPosts = (\r\n\t<div className=\"timeline-end\">\r\n\t\t<p>--x--</p>\r\n\t</div>\r\n);\r\n\r\nconst loadingPosts = <div className=\"timeline-loader\"></div>;\r\n\r\nconst Timeline = ({ posts, loading, page, end, fetchScrollingTimeline }) => {\r\n\treturn (\r\n\t\t<div className=\"my-timeline\">\r\n\t\t\t{!loading ? (\r\n\t\t\t\t!!posts.length ? (\r\n\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\tdataLength={posts.length}\r\n\t\t\t\t\t\tnext={() => fetchScrollingTimeline(page + 1)}\r\n\t\t\t\t\t\thasMore={!end}\r\n\t\t\t\t\t\tendMessage={endOfPosts}\r\n\t\t\t\t\t\tloader={loadingPosts}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{posts.map((post) => (\r\n\t\t\t\t\t\t\t<Post post={post} key={post.id} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"no-posts\">\r\n\t\t\t\t\t\t<NotFound\r\n\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\"No posts found. Please follow users to view a timeline.\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t) : (\r\n\t\t\t\t<PageLoader />\r\n\t\t\t)}\r\n\t\t\t<div className=\"cta-buttons\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"searchUsers-button\"\r\n\t\t\t\t\tonClick={() => history.push(\"/searchUsers\")}\r\n\t\t\t\t\ttitle=\"Search Users\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tposts: state.timeline.posts,\r\n\tloading: state.timeline.loading,\r\n\tpage: Number(state.timeline.page),\r\n\tend: state.timeline.end,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n\tfetchScrollingTimeline: (page) =>\r\n\t\tdispatch({ type: \"FETCH_TIMELINE_SCROLLING\", page }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Timeline);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { BsSearch as SearchIcon } from \"react-icons/bs\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport PageLoader from \"./PageLoader\";\r\nimport Post from \"./Post\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst TrendingPage = ({ posts, loading }) => {\r\n\treturn (\r\n\t\t<div className=\"my-timeline\">\r\n\t\t\t<div className=\"trendingPage__heading\">\r\n\t\t\t\t<h3>Trending On Finstagram</h3>\r\n\t\t\t\t<p>Highest growing posts from around the world!</p>\r\n\t\t\t</div>\r\n\t\t\t{!loading ? (\r\n\t\t\t\t!!posts.length ? (\r\n\t\t\t\t\tposts.map((post, index) => (\r\n\t\t\t\t\t\t<Post post={post} rank={index + 1} key={post._id} />\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"no-posts\">\r\n\t\t\t\t\t\t<NotFound message={\"Nothing Here.\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t) : (\r\n\t\t\t\t<PageLoader />\r\n\t\t\t)}\r\n\t\t\t<div className=\"cta-buttons\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"searchUsers-button\"\r\n\t\t\t\t\tonClick={() => history.push(\"/searchUsers\")}\r\n\t\t\t\t\ttitle=\"Search Users\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tposts: state.trending.posts,\r\n\tloading: state.trending.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(TrendingPage);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport PageLoader from \"./PageLoader\";\r\nimport Post from \"./Post\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst NearbyPosts = (props) => {\r\n\tconst { center } = useParams();\r\n\r\n\tconst [posts, setPosts] = useState([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [locationName, setLocationName] = useState(\"\");\r\n\r\n\tlet [lng, lat] = center.split(\",\");\r\n\r\n\tconst fetchPosts = async () => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/posts/near?lat=${lat}&lng=${lng}`;\r\n\t\t\tconst res = await axios.get(url);\r\n\t\t\tsetPosts(res.data.data.posts);\r\n\t\t\tsetLocationName(res.data.data.location.name);\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (e) {\r\n\t\t\tsetPosts([]);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPosts();\r\n\r\n\t\t// MapBox Token\r\n\t\tmapboxgl.accessToken =\r\n\t\t\t\"pk.eyJ1Ijoic21hbmFuMyIsImEiOiJja2FqcHNqZmMwY3k0MnRtbmUyaTA3c3k0In0.7AdKPQUF4xS4_WlTI1eO6Q\";\r\n\r\n\t\t// Render map on screen\r\n\t\tvar map = new mapboxgl.Map({\r\n\t\t\tcontainer: \"map-container\",\r\n\t\t\tstyle: \"mapbox://styles/mapbox/streets-v11\",\r\n\t\t\tcenter: [lng * 1, lat * 1],\r\n\t\t\tzoom: 13,\r\n\t\t});\r\n\r\n\t\t// Location markers JSON File\r\n\t\tconst geojson = {\r\n\t\t\ttype: \"FeatureCollection\",\r\n\t\t\tfeatures: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"Feature\",\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\ttype: \"Point\",\r\n\t\t\t\t\t\tcoordinates: [lng * 1, lat * 1],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\ttitle: \"Mapbox\",\r\n\t\t\t\t\t\tdescription: locationName,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\r\n\t\tgeojson.features.forEach(function (marker) {\r\n\t\t\t// create a HTML element for each feature\r\n\t\t\tvar el = document.createElement(\"div\");\r\n\t\t\tel.className = \"marker\";\r\n\r\n\t\t\t// make a marker for each feature and add to the map\r\n\t\t\tnew mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).addTo(map);\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"my-timeline\">\r\n\t\t\t<div className=\"nearby-posts__heading\" id=\"map-container\"></div>\r\n\t\t\t{!loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"location-name\">\r\n\t\t\t\t\t\t<p>{locationName}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!!posts.length ? (\r\n\t\t\t\t\t\tposts.map((post, index) => <Post post={post} key={post._id} isNearby={true} />)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"no-posts\">\r\n\t\t\t\t\t\t\t<NotFound message={\"Nothing Here.\"} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<PageLoader />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NearbyPosts;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst LoginForm = ({\r\n\tputToken,\r\n\tfetchTimeline,\r\n\tfetchTrending,\r\n\tfetchNotifications,\r\n}) => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendFormData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\t\tconst username = document.getElementById(\"username_field\").value;\r\n\t\tconst password = document.getElementById(\"password_field\").value;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: \"/api/v1/users/login\",\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\ttoast.success(\"Logged in successfully!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tputToken(res.data.data.user);\r\n\t\t\tfetchTimeline();\r\n\t\t\tfetchTrending();\r\n\t\t\tfetchNotifications();\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login-page\">\r\n\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t<h2>Finstagram</h2>\r\n\t\t\t\t<form onSubmit={sendFormData} className=\"login-form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"username\"\r\n\t\t\t\t\t\tid=\"username_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\tid=\"password_field\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tNo account? <Link to=\"/signup\">Sign up</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tputToken: (user) => dispatch({ type: \"PUT_TOKEN\", user }),\r\n\tfetchTimeline: () => dispatch({ type: \"FETCH_TIMELINE\" }),\r\n\tfetchTrending: () => dispatch({ type: \"FETCH_TRENDING\" }),\r\n\tfetchNotifications: () => dispatch({ type: \"FETCH_NOTIFICATIONS\" }),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginForm);\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst Signup = ({\r\n\tputToken,\r\n\tfetchTimeline,\r\n\tfetchTrending,\r\n\tfetchNotifications,\r\n}) => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendFormData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\t\tconst username = document.getElementById(\"username_field\").value;\r\n\t\tconst name = document.getElementById(\"name_field\").value;\r\n\t\tconst email = document.getElementById(\"email_field\").value;\r\n\t\tconst password = document.getElementById(\"password_field\").value;\r\n\t\tconst passwordConfirm = document.getElementById(\"passwordConfirm_field\")\r\n\t\t\t.value;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: \"/api/v1/users/signup\",\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tpasswordConfirm,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\ttoast.success(\"New account created!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tputToken(res.data.data.user);\r\n\t\t\tfetchTimeline();\r\n\t\t\tfetchTrending();\r\n\t\t\tfetchNotifications();\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"login-page\">\r\n\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t<h2>Finstagram</h2>\r\n\t\t\t\t<form onSubmit={sendFormData} class=\"login-form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\tid=\"username_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\tid=\"name_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t\t\tid=\"email_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\tid=\"password_field\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"passwordConfirm\"\r\n\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\tid=\"passwordConfirm_field\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tputToken: (user) => dispatch({ type: \"PUT_TOKEN\", user }),\r\n\tfetchTimeline: () => dispatch({ type: \"FETCH_TIMELINE\" }),\r\n\tfetchTrending: () => dispatch({ type: \"FETCH_TRENDING\" }),\r\n\tfetchNotifications: () => dispatch({ type: \"FETCH_NOTIFICATIONS\" }),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup);\r\n","import React from \"react\";\r\nimport { AiFillDelete as DeleteIcon } from \"react-icons/ai\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst Comment = ({ comment, user, removeComment }) => {\r\n\tconst isUser = user.id === comment.createdBy.id;\r\n\treturn (\r\n\t\t<div className=\"comment\">\r\n\t\t\t<div className=\"comment--meta\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={comment.createdBy.photo}\r\n\t\t\t\t\talt={`${comment.createdBy.username}'s profile`}\r\n\t\t\t\t/>\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"comment--username\"\r\n\t\t\t\t\tonClick={() => history.push(`/user/${comment.createdBy.username}`)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{comment.createdBy.username}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"comment--body\">{comment.body}</p>\r\n\t\t\t</div>\r\n\t\t\t{!!isUser && (\r\n\t\t\t\t<div className=\"comment--delete\">\r\n\t\t\t\t\t<DeleteIcon\r\n\t\t\t\t\t\tonClick={() => removeComment(comment._id)}\r\n\t\t\t\t\t\ttitle=\"Delete Comment\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Comment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Comment from \"./Comment\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AiOutlineSend as SendIcon } from \"react-icons/ai\";\r\n\r\nconst Comments = ({ id, user, timelinePosts, updateTimeline }) => {\r\n\tconst [comments, setComments] = useState([]);\r\n\r\n\t// Update redux store when a post is liked/unliked\r\n\tconst updateStore = (postId, commentsCount) => {\r\n\t\tconst newTimeline = [...timelinePosts];\r\n\r\n\t\t// 1. Update the comment count for timeline posts\r\n\t\tnewTimeline.forEach((post) => {\r\n\t\t\tif (post._id === postId) {\r\n\t\t\t\tpost.comments = commentsCount;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tupdateTimeline(newTimeline);\r\n\t};\r\n\r\n\tconst createComment = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: `/api/v1/posts/${id}/comments`,\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcomment: document.getElementById(\"comment-field\").value,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tdocument.getElementById(\"comment-field\").value = \"\";\r\n\r\n\t\t\tconst newArray = comments.concat([res.data.data.comment]);\r\n\t\t\tsetComments(newArray);\r\n\r\n\t\t\tupdateStore(id, newArray.length);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst removeComment = async (commentId) => {\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: `/api/v1/posts/${id}/comment/${commentId}`,\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t});\r\n\t\t\tconst newArray = comments.filter((comment) => comment._id !== commentId);\r\n\t\t\tsetComments(newArray);\r\n\t\t\tupdateStore(id, newArray.length);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchComments = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await axios({\r\n\t\t\t\t\turl: `/api/v1/posts/${id}/comments`,\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t});\r\n\t\t\t\tsetComments(res.data.data.comments);\r\n\t\t\t} catch (err) {}\r\n\t\t};\r\n\t\tfetchComments();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"commentArray\">\r\n\t\t\t<h3>Comments</h3>\r\n\t\t\t<div className=\"commentsArray-list\">\r\n\t\t\t\t{comments.map((comment) => (\r\n\t\t\t\t\t<Comment\r\n\t\t\t\t\t\tcomment={comment}\r\n\t\t\t\t\t\tkey={comment._id}\r\n\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\tremoveComment={removeComment}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"createComment-form\">\r\n\t\t\t\t<form onSubmit={createComment}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tid=\"comment-field\"\r\n\t\t\t\t\t\tplaceholder=\"Add Comment\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"submit\">\r\n\t\t\t\t\t\t<SendIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\ttimelinePosts: state.timeline.posts,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tupdateTimeline: (newTimeline) =>\r\n\t\tdispatch({ type: \"PUT_TIMELINE_ON_CHANGE\", posts: newTimeline }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comments);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nimport {\r\n\tAiOutlineHeart as HeartOutline,\r\n\tAiFillHeart as HeartFill,\r\n} from \"react-icons/ai\";\r\n\r\nimport PageLoader from \"./PageLoader\";\r\nimport Comments from \"./Comments\";\r\nimport LikesArray from \"./likesArray\";\r\n\r\nconst PostDetails = ({\r\n\tuser,\r\n\ttimelinePosts,\r\n\ttrendingPosts,\r\n\tupdateTimeline,\r\n\tupdateTrending,\r\n}) => {\r\n\tconst { postId } = useParams();\r\n\r\n\tconst [post, setPost] = useState({});\r\n\tconst [allLikes, setAllLikes] = useState();\r\n\r\n\tconst [isLiked, setIsLiked] = useState(post.likedByMe);\r\n\tconst [likes, setLikes] = useState(post.likes * 1);\r\n\tconst [isLikeModalOpen, setIsLikeModalOpen] = useState(false);\r\n\r\n\t// a. Fetch the post to display\r\n\tconst fetchPost = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: `/api/v1/posts/one/${postId}`,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tconst post = res.data.results.post;\r\n\t\t\tsetPost(post);\r\n\t\t\tsetIsLiked(post.likedByMe);\r\n\t\t\tsetLikes(post.likes * 1);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\t// b. Calculate time of post creation\r\n\tconst getTime = (date) => {\r\n\t\tconst givenDate = new Date(date).setHours(0, 0, 0, 0);\r\n\t\tconst today = new Date(Date.now()).setHours(0, 0, 0, 0);\r\n\r\n\t\tconst difference = today - givenDate;\r\n\r\n\t\tconst dateObj = {\r\n\t\t\t0: \"Today\",\r\n\t\t\t86400000: \"Yesterday\",\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\tdateObj[difference] ||\r\n\t\t\tnew Date(date).toLocaleDateString(\"en-us\", {\r\n\t\t\t\tyear: \"numeric\",\r\n\t\t\t\tmonth: \"long\",\r\n\t\t\t\tday: \"numeric\",\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\t// c. Open Modal showing all likers\r\n\tconst openLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(true);\r\n\t};\r\n\r\n\t// d. Close Modal showing all likers\r\n\tconst closeLikeModal = () => {\r\n\t\tsetIsLikeModalOpen(false);\r\n\t};\r\n\r\n\t// e. Fetch all people who liked the post\r\n\tconst fetchLikes = async () => {\r\n\t\tconst url = `/api/v1/posts/${postId}/likedBy`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetAllLikes(res.data.data.likers);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\t// f. Inform the database that user has liked the post\r\n\tconst createLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${postId}/like`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t}\r\n\t};\r\n\r\n\t// g. Inform the database that user has unliked the post\r\n\tconst removeLike = async () => {\r\n\t\tconst url = `/api/v1/posts/${postId}/unlike`;\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLiked(!isLiked);\r\n\t\t}\r\n\t};\r\n\r\n\t// h. Update redux store when a post is liked/unliked\r\n\tconst updateStore = (postId, likesCount, likedByMe) => {\r\n\t\tconsole.log(\"yay\");\r\n\t\tconst newTimeline = [...timelinePosts];\r\n\t\tconst newTrending = [...trendingPosts];\r\n\r\n\t\t// 1. Update the likes count and likedByMe for timeline posts\r\n\t\tnewTimeline.forEach((post) => {\r\n\t\t\tif (post._id === postId) {\r\n\t\t\t\tpost.likedByMe = likedByMe;\r\n\t\t\t\tpost.likes = likesCount;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 2. Update the likes count and likedByMe for trending posts\r\n\t\tnewTrending.forEach((post) => {\r\n\t\t\tif (post._id === postId) {\r\n\t\t\t\tpost.likedByMe = likedByMe;\r\n\t\t\t\tpost.likes = likesCount;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tupdateTimeline(newTimeline);\r\n\t\tupdateTrending(newTrending);\r\n\t};\r\n\r\n\t// i. Updates store and state using above func.\r\n\tconst handleLike = async () => {\r\n\t\tconst likedCopy = isLiked;\r\n\t\tsetIsLiked(!isLiked);\r\n\t\tsetAllLikes([]);\r\n\r\n\t\tif (likedCopy) {\r\n\t\t\tsetLikes(likes - 1);\r\n\t\t\tupdateStore(post._id, likes - 1, !likedCopy);\r\n\t\t\tawait removeLike();\r\n\t\t} else {\r\n\t\t\tsetLikes(likes + 1);\r\n\t\t\tupdateStore(post._id, likes + 1, !likedCopy);\r\n\t\t\tawait createLike();\r\n\t\t}\r\n\r\n\t\tawait fetchLikes();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPost();\r\n\t\tfetchLikes();\r\n\t}, []);\r\n\r\n\treturn !!post.id ? (\r\n\t\t<div className=\"postDetails\">\r\n\t\t\t<div className=\"postDetails--info\">\r\n\t\t\t\t<div className=\"postDetails--meta\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.createdBy.photo}\r\n\t\t\t\t\t\talt={`${post.createdBy.username}'s profile`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"postDetails--username\"\r\n\t\t\t\t\t\tonClick={() => history.push(`/user/${post.createdBy.username}`)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postDetails--image\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.photo}\r\n\t\t\t\t\t\talt={`${post.createdBy.username}'s post`}\r\n\t\t\t\t\t\tonDoubleClick={handleLike}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postDetails__likes\">\r\n\t\t\t\t\t{isLiked ? (\r\n\t\t\t\t\t\t<HeartFill style={{ color: \"#b71c1c\" }} onClick={handleLike} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<HeartOutline onClick={handleLike} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!!likes && (\r\n\t\t\t\t\t\t<p onClick={openLikeModal} className=\"postDetails__likes--count\">\r\n\t\t\t\t\t\t\t{`${likes} ${likes === 1 ? \"like\" : \"likes\"}`}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"postCard__caption\">\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"postCard__caption--username\"\r\n\t\t\t\t\t\tonClick={() => history.push(`/user/${post.createdBy.username}`)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{post.createdBy.username}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"postCard__caption--body\">{post.caption}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"postCard__date\">{getTime(post.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"postDetails--details\">\r\n\t\t\t\t<Comments id={postId} user={user} />\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tisOpen={isLikeModalOpen}\r\n\t\t\t\tonRequestClose={closeLikeModal}\r\n\t\t\t\tariaHideApp={false}\r\n\t\t\t\tcontentLabel=\"Like Modal\"\r\n\t\t\t\tcloseTimeoutMS={200}\r\n\t\t\t\tclassName=\"modal\"\r\n\t\t\t>\r\n\t\t\t\t<LikesArray likes={allLikes} />\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<PageLoader />\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\ttimelinePosts: state.timeline.posts,\r\n\ttrendingPosts: state.trending.posts,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tupdateTimeline: (newTimeline) =>\r\n\t\tdispatch({ type: \"PUT_TIMELINE_ON_CHANGE\", posts: newTimeline }),\r\n\tupdateTrending: (newTrending) =>\r\n\t\tdispatch({ type: \"PUT_TRENDING\", posts: newTrending }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostDetails);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport {\r\n\tAiOutlineHeart as HeartOutline,\r\n\tAiOutlineComment as CommentOutline,\r\n\tAiOutlinePlus as AddIcon,\r\n\tAiOutlineEdit as EditIcon,\r\n} from \"react-icons/ai\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport PageLoader from \"./PageLoader\";\r\nimport { UserInfoSmall } from \"./likesArray\";\r\n\r\nimport { history } from \"../router/router\";\r\n\r\nconst Post = ({ post }) => {\r\n\treturn (\r\n\t\t<div className=\"post-container\">\r\n\t\t\t<img\r\n\t\t\t\tsrc={post.photo}\r\n\t\t\t\tclassName=\"post-container__image\"\r\n\t\t\t\talt=\"My-Post\"\r\n\t\t\t\tonClick={() => history.push(`/post/${post.id}`)}\r\n\t\t\t/>\r\n\t\t\t<div className=\"post-container__details\">\r\n\t\t\t\t<div className=\"post-container__details--likes\">\r\n\t\t\t\t\t<HeartOutline />\r\n\t\t\t\t\t<p>{post.likes}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"post-container__details--comments\">\r\n\t\t\t\t\t<CommentOutline />\r\n\t\t\t\t\t<p>{post.comments}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst UserProfile = (props) => {\r\n\tconst { username } = useParams();\r\n\r\n\tconst notMe = props.user.username !== username;\r\n\r\n\tconst [user, setUser] = useState();\r\n\tconst [posts, setPosts] = useState();\r\n\r\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n\tconst [usersArray, setUsersArray] = useState([]);\r\n\tconst [followersArray, setFollowersArray] = useState([]);\r\n\tconst [followingArray, setFollowingArray] = useState([]);\r\n\r\n\tconst openModal = () => {\r\n\t\tsetIsModalOpen(true);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetIsModalOpen(false);\r\n\t\tsetUsersArray([]);\r\n\t};\r\n\r\n\tconst followUser = async (username) => {\r\n\t\tlet newFollowersCount = user.followersCount + 1;\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\tfollowedByMe: true,\r\n\t\t\tfollowersCount: newFollowersCount,\r\n\t\t});\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/follow`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\r\n\t\t\tprops.fetchTimeline();\r\n\t\t\ttoast.success(res.data.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\ttoast.success(err.response.data.error.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst unfollowUser = async (username) => {\r\n\t\tlet newFollowersCount = user.followersCount - 1;\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\tfollowedByMe: false,\r\n\t\t\tfollowersCount: newFollowersCount,\r\n\t\t});\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/unfollow`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tprops.fetchTimeline();\r\n\t\t\ttoast.success(res.data.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t\ttoast.success(err.response.data.error.message, {\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchUser = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/user/${username}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetUser(res.data.data.user);\r\n\t\t\tsetPosts(res.data.data.posts);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst fetchFollows = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/follows`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetFollowingArray(res.data.data.user.follows);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst fetchFollowers = async () => {\r\n\t\ttry {\r\n\t\t\tconst url = `/api/v1/users/${username}/followers`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tsetFollowersArray(res.data.data.followers);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\tconst showFollows = () => {\r\n\t\tsetUsersArray(followingArray);\r\n\t\topenModal();\r\n\t};\r\n\r\n\tconst showFollowers = () => {\r\n\t\tsetUsersArray(followersArray);\r\n\t\topenModal();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUser();\r\n\t\tfetchFollowers();\r\n\t\tfetchFollows();\r\n\t}, []);\r\n\r\n\treturn !!user && !!posts ? (\r\n\t\t<div className=\"user-page\">\r\n\t\t\t<div className=\"user-info\">\r\n\t\t\t\t<div className=\"user-profile\">\r\n\t\t\t\t\t<img src={user.photo} alt={`${user.username}'s profile`} />\r\n\t\t\t\t\t<p className=\"user-profile__name\">{user.name}</p>\r\n\t\t\t\t\t<p className=\"user-profile__username\">{user.username}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"user-meta\">\r\n\t\t\t\t\t<div className=\"user-stats\">\r\n\t\t\t\t\t\t<div className=\"user-stats--posts\">\r\n\t\t\t\t\t\t\t<h3>{user.postsCount}</h3>\r\n\t\t\t\t\t\t\t<p>Posts</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"user-stats--followers\"\r\n\t\t\t\t\t\t\tonClick={!!user.followersCount ? showFollowers : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h3>{user.followersCount}</h3>\r\n\t\t\t\t\t\t\t<p>Followers</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"user-stats--follows\"\r\n\t\t\t\t\t\t\tonClick={!!user.followCount ? showFollows : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h3>{user.followCount}</h3>\r\n\t\t\t\t\t\t\t<p>Follows</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!!notMe &&\r\n\t\t\t\t\t\t(user.followedByMe ? (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"user-following-button\"\r\n\t\t\t\t\t\t\t\tonClick={() => unfollowUser(user.username)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tFollowing\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"user-follow-button\"\r\n\t\t\t\t\t\t\t\tonClick={() => followUser(user.username)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tFollow\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{!!posts.length ? (\r\n\t\t\t\t<div className=\"user-posts\">\r\n\t\t\t\t\t{posts.map((post) => (\r\n\t\t\t\t\t\t<Post post={post} key={post._id} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<NotFound message={\"No posts yet.\"} />\r\n\t\t\t)}\r\n\t\t\t{!!!notMe && (\r\n\t\t\t\t<div className=\"cta-buttons\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"newPost-button\"\r\n\t\t\t\t\t\tonClick={() => history.push(\"/post/create\")}\r\n\t\t\t\t\t\ttitle=\"Create New Post\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"editMe-button\"\r\n\t\t\t\t\t\tonClick={() => history.push(\"/update\")}\r\n\t\t\t\t\t\ttitle=\"Edit Details\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\tisOpen={isModalOpen}\r\n\t\t\t\tonRequestClose={closeModal}\r\n\t\t\t\tariaHideApp={false}\r\n\t\t\t\tcontentLabel=\"Like Modal\"\r\n\t\t\t\tcloseTimeoutMS={200}\r\n\t\t\t\tclassName=\"modal\"\r\n\t\t\t>\r\n\t\t\t\t<div className=\"like-modal__list\">\r\n\t\t\t\t\t{usersArray.map((user) => (\r\n\t\t\t\t\t\t<UserInfoSmall\r\n\t\t\t\t\t\t\tuser={user.follows.name ? user.follows : user.user}\r\n\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<PageLoader />\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tfetchTimeline: () => dispatch({ type: \"FETCH_TIMELINE\" }),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(UserProfile);\r\n","// GeoCodes the location via mapbox API for location in posts\r\nimport axios from \"axios\";\r\n\r\nconst geoCode = async (keyword) => {\r\n\ttry {\r\n\t\tconst apiLimit = 5;\r\n\t\tconst url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\r\n\t\t\tkeyword\r\n\t\t)}.json?access_token=pk.eyJ1Ijoic21hbmFuMyIsImEiOiJja2QycnZ4ZzExZzBoMnVwNHIwd2MxNm9xIn0.2ciILybPF6jxSZpP6D6Kcw&limit=${apiLimit}`;\r\n\r\n\t\tconst res = await axios.get(url);\r\n\t\tconst locationData = [];\r\n\r\n\t\tres.data.features.forEach((location) => {\r\n\t\t\tconst newLocationObject = {\r\n\t\t\t\tname: location.place_name,\r\n\t\t\t\tlongitude: location.center[0],\r\n\t\t\t\tlatitude: location.center[1],\r\n\t\t\t};\r\n\r\n\t\t\tlocationData.push(newLocationObject);\r\n\t\t});\r\n\r\n\t\treturn locationData;\r\n\t} catch (e) {\r\n\t\treturn [];\r\n\t}\r\n};\r\n\r\nexport default geoCode;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AwesomeDebouncePromise from \"awesome-debounce-promise\";\r\nimport geoCode from \"../utils/geoCode\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n\tBsFileEarmarkPlus as AddFileIcon,\r\n\tBsFileEarmarkCheck as UploadedFileIcon,\r\n} from \"react-icons/bs\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { history } from \"../router/router\";\r\nimport Loader from \"./Loader\";\r\n\r\n// Global object for sending location data\r\nlet globalLocation = {};\r\n\r\nconst CreatePost = ({ fetchPosts }) => {\r\n\tconst [uploaded, setUploaded] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [locations, setLocations] = useState([]);\r\n\tconst [locationLoading, setLocationLoading] = useState(false);\r\n\tconst [isValidLocation, setIsValidLocation] = useState(true);\r\n\r\n\t// Display location search results\r\n\tconst SearchResults = ({ locations }) => {\r\n\t\t// Select a search result & update global object\r\n\t\tconst selectLocation = (location) => {\r\n\t\t\tdocument.getElementById(\"location_field\").value = location.name;\r\n\t\t\tsetIsValidLocation(true);\r\n\t\t\tsetLocationLoading(true);\r\n\t\t\tglobalLocation = {\r\n\t\t\t\tlocationName: location.name,\r\n\t\t\t\tlatitude: location.latitude,\r\n\t\t\t\tlongitude: location.longitude,\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\t// Search result component\r\n\t\treturn (\r\n\t\t\t<div className=\"locationSearch-results\">\r\n\t\t\t\t{locations.map((location) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"searchLocation\"\r\n\t\t\t\t\t\tkey={location.name}\r\n\t\t\t\t\t\tonClick={() => selectLocation(location)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p>{location.name}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\t// Send post to backend\r\n\tconst sendFormData = async (e) => {\r\n\t\tsetIsLoading(true);\r\n\t\te.preventDefault();\r\n\r\n\t\tconst form = new FormData();\r\n\t\tform.append(\"photo\", document.getElementById(\"photo_field\").files[0]);\r\n\t\tform.append(\"caption\", document.getElementById(\"caption_field\").value);\r\n\r\n\t\t// Only add these if user has selected a valid location\r\n\t\tif (isValidLocation && globalLocation.hasOwnProperty(\"locationName\")) {\r\n\t\t\tform.append(\"locationName\", globalLocation.locationName);\r\n\t\t\tform.append(\"latitude\", globalLocation.latitude);\r\n\t\t\tform.append(\"longitude\", globalLocation.longitude);\r\n\t\t}\r\n\r\n\t\t// Send post data to backend & create post\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl: \"/api/v1/posts/create\",\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: form,\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success(\"New post created! Redirecting..\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tfetchPosts();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thistory.push(\"/\");\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst asyncFunctionDebounced = AwesomeDebouncePromise(geoCode, 500);\r\n\r\n\t// Use MapBox API to search for locations\r\n\tconst searchLocation = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsValidLocation(false);\r\n\r\n\t\tif (e.target.value) {\r\n\t\t\tsetLocationLoading(true);\r\n\t\t\te.persist();\r\n\t\t\ttry {\r\n\t\t\t\tconst mapBoxLocations = await asyncFunctionDebounced(e.target.value);\r\n\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\tsetLocations(mapBoxLocations);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {}\r\n\t\t\tsetLocationLoading(false);\r\n\t\t} else {\r\n\t\t\t// If user clears his search\r\n\t\t\tsetLocations([]);\r\n\t\t\tsetIsValidLocation(true);\r\n\t\t\tglobalLocation = {};\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login-page\">\r\n\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t<h2>New Post</h2>\r\n\t\t\t\t<form onSubmit={sendFormData} className=\"login-form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"caption\"\r\n\t\t\t\t\t\tplaceholder=\"Caption\"\r\n\t\t\t\t\t\tid=\"caption_field\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"location\"\r\n\t\t\t\t\t\tplaceholder=\"Location\"\r\n\t\t\t\t\t\tid=\"location_field\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tonChange={searchLocation}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Photo\"\r\n\t\t\t\t\t\tid=\"photo_field\"\r\n\t\t\t\t\t\tonChange={() => setUploaded(true)}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<div className=\"searchResults\">\r\n\t\t\t\t\t\t{!locationLoading && !!locations.length && (\r\n\t\t\t\t\t\t\t<SearchResults locations={locations} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!isValidLocation && (\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t*Please only select a valid location. Invalid locations will be\r\n\t\t\t\t\t\t\trejected.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<label htmlFor=\"photo_field\" className=\"upload-post-label\">\r\n\t\t\t\t\t\t{!uploaded ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<AddFileIcon />\r\n\t\t\t\t\t\t\t\t<p>Add Image</p>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<UploadedFileIcon />\r\n\t\t\t\t\t\t\t\t<p>Uploaded!</p>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tfetchPosts: () => dispatch({ type: \"FETCH_TIMELINE\" }),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(CreatePost);\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { MdModeEdit as EditIcon } from \"react-icons/md\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { history } from \"../router/router\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst EditUserProfile = ({ user }) => {\r\n\tconst [uploadedText, setUploadedText] = useState(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst sendUpdateData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tconst form = new FormData();\r\n\t\tform.append(\"photo\", document.getElementById(\"photo_field\").files[0]);\r\n\t\tform.append(\"username\", document.getElementById(\"username_field\").value);\r\n\t\tform.append(\"email\", document.getElementById(\"email_field\").value);\r\n\t\tform.append(\"name\", document.getElementById(\"name_field\").value);\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/users/updateMe\",\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\tdata: form,\r\n\t\t\t});\r\n\t\t\tsetIsLoading(false);\r\n\r\n\t\t\ttoast.success(\"User details updated!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\t// console.log(err.response);\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendPasswordData = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tconst oldPassword = document.getElementById(\"oldPassword_field\").value;\r\n\t\tconst newPassword = document.getElementById(\"newPassword_field\").value;\r\n\t\tconst confirmPassword = document.getElementById(\"passwordConfirm_field\")\r\n\t\t\t.value;\r\n\r\n\t\ttry {\r\n\t\t\tawait axios({\r\n\t\t\t\turl: \"/api/v1/users/updatePassword\",\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\toldPassword,\r\n\t\t\t\t\tnewPassword,\r\n\t\t\t\t\tconfirmPassword,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success(\"Password successfully updated!\", {\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}, 2000);\r\n\t\t} catch (err) {\r\n\t\t\t// console.log(err.response);\r\n\t\t\tsetIsLoading(false);\r\n\t\t\ttoast.error(`Error: ${err.response.data.data.error.message}`);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"login-page\">\r\n\t\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t\t<h2>Update Profile</h2>\r\n\t\t\t\t\t<form onSubmit={sendUpdateData} className=\"login-form\">\r\n\t\t\t\t\t\t<div className=\"edit-image\">\r\n\t\t\t\t\t\t\t<p>{uploadedText}</p>\r\n\t\t\t\t\t\t\t<img src={user.photo} alt={`${user.name}'s profile`} />\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\thtmlFor=\"photo_field\"\r\n\t\t\t\t\t\t\t\tclassName=\"upload-profile-label\"\r\n\t\t\t\t\t\t\t\ttitle=\"Change Profile Picture\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Username</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\tid=\"username_field\"\r\n\t\t\t\t\t\t\tdefaultValue={user.username}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Name</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\tid=\"name_field\"\r\n\t\t\t\t\t\t\tdefaultValue={user.name}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Email</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t\t\t\tid=\"email_field\"\r\n\t\t\t\t\t\t\tdefaultValue={user.email}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tplaceholder=\"Photo\"\r\n\t\t\t\t\t\t\tid=\"photo_field\"\r\n\t\t\t\t\t\t\tonChange={() => setUploadedText(\"New profile uploaded!\")}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"login-form__submit\"\r\n\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{!isLoading ? <p>Submit</p> : <Loader />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"login-page\" style={{ marginTop: \"-80px\" }}>\r\n\t\t\t\t<div className=\"login-form-container\">\r\n\t\t\t\t\t<h2>ChangePassword</h2>\r\n\t\t\t\t\t<form onSubmit={sendPasswordData} className=\"login-form\">\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Current Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"oldPassword\"\r\n\t\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\t\tid=\"oldPassword_field\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">New Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"Password\"\r\n\t\t\t\t\t\t\tname=\"newPassword\"\r\n\t\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\t\tid=\"newPassword_field\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label className=\"edit-user-label\">Confirm Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"passwordConfirm\"\r\n\t\t\t\t\t\t\tplaceholder=\"********\"\r\n\t\t\t\t\t\t\tid=\"passwordConfirm_field\"\r\n\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\tclassName=\"edit-user-input\"\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"login-form__submit\">\r\n\t\t\t\t\t\t\t{!isLoading ? <p>Update</p> : <Loader />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditUserProfile;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AwesomeDebouncePromise from \"awesome-debounce-promise\";\r\nimport { FcSearch as SearchIcon } from \"react-icons/fc\";\r\nimport { FaRegSadTear as SadIcon } from \"react-icons/fa\";\r\n\r\nimport { UserInfoSmall } from \"./likesArray\";\r\n\r\nconst SearchUsers = () => {\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [text, setText] = useState(\"\");\r\n\r\n\tconst asyncFunction = async (value) => {\r\n\t\ttry {\r\n\t\t\tconst url = \"/api/v1/users/search\";\r\n\t\t\tconst res = await axios({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tsearch: value,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tsetUsers(res.data.data.users);\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status === 400) {\r\n\t\t\t\tsetUsers([\"1\"]);\r\n\t\t\t} else {\r\n\t\t\t\tsetUsers([]);\r\n\t\t\t}\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst asyncFunctionDebounced = AwesomeDebouncePromise(asyncFunction, 800);\r\n\r\n\tconst handleTextChange = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tsetLoading(true);\r\n\t\tsetUsers([\"1\"]);\r\n\t\tsetText(e.target.value);\r\n\t\tawait asyncFunctionDebounced(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"searchUsers\">\r\n\t\t\t<h3>Search Users</h3>\r\n\t\t\t<div className=\"searchUser-bar\">\r\n\t\t\t\t<div className=\"searchUser-bar__icon\">\r\n\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\tonChange={handleTextChange}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tclassName=\"searchUser-bar__input\"\r\n\t\t\t\t\tplaceholder=\"Search Users\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"searchUsers-results\">\r\n\t\t\t\t{!!text &&\r\n\t\t\t\t\t(!!users.length ? (\r\n\t\t\t\t\t\t!loading ? (\r\n\t\t\t\t\t\t\tusers.map((user) => <UserInfoSmall user={user} key={user._id} />)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"search-loader\"></div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"search-not-found\">\r\n\t\t\t\t\t\t\t<SadIcon />\r\n\t\t\t\t\t\t\t<p>No users found.</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchUsers;\r\n","import React from \"react\";\r\nimport { history } from \"../router/router\";\r\n\r\nconst PageNotFound = () => {\r\n\treturn (\r\n\t\t<div className=\"page-404\">\r\n\t\t\t<div className=\"page-404-content\">\r\n\t\t\t\t<h3>Page Not Found</h3>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<h2>404 Error</h2>\r\n\t\t\t\t\t<p>This page does not seem to exist :(</p>\r\n\t\t\t\t\t<button onClick={() => history.push(\"/\")}>Home</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { history } from \"../router/router\";\r\nimport GitHubButton from \"react-github-btn\";\r\n\r\nimport PageLoader from \"./PageLoader\";\r\n\r\nconst WelcomeNotification = () => {\r\n\treturn (\r\n\t\t<div className=\"my-welcome-notif\">\r\n\t\t\t<p className=\"my-welcome-notif-heading\">\r\n\t\t\t\tWelcome to the Finstagram family! We can't wait to see what you do here!{\" \"}\r\n\t\t\t\t<br />\r\n\t\t\t\tThis is an open source project, please show some love by starring or\r\n\t\t\t\tforking this repository.\r\n\t\t\t\t<br />\r\n\t\t\t\tHappy Browsing!\r\n\t\t\t</p>\r\n\t\t\t<div className=\"my-welcome-notif-gh-buttons\">\r\n\t\t\t\t<GitHubButton\r\n\t\t\t\t\thref=\"https://github.com/elit-altum/Finstagram-The-Instagram-Clone\"\r\n\t\t\t\t\tdata-icon=\"octicon-star\"\r\n\t\t\t\t\tdata-size=\"large\"\r\n\t\t\t\t\tdata-show-count=\"true\"\r\n\t\t\t\t\taria-label=\"Star elit-altum/Finstagram-The-Instagram-Clone on GitHub\"\r\n\t\t\t\t>\r\n\t\t\t\t\tStar\r\n\t\t\t\t</GitHubButton>\r\n\t\t\t\t<GitHubButton\r\n\t\t\t\t\thref=\"https://github.com/elit-altum/Finstagram-The-Instagram-Clone/fork\"\r\n\t\t\t\t\tdata-icon=\"octicon-repo-forked\"\r\n\t\t\t\t\tdata-size=\"large\"\r\n\t\t\t\t\tdata-show-count=\"true\"\r\n\t\t\t\t\taria-label=\"Fork elit-altum/Finstagram-The-Instagram-Clone on GitHub\"\r\n\t\t\t\t>\r\n\t\t\t\t\tFork\r\n\t\t\t\t</GitHubButton>\r\n\t\t\t\t<GitHubButton\r\n\t\t\t\t\thref=\"https://github.com/elit-altum\"\r\n\t\t\t\t\tdata-size=\"large\"\r\n\t\t\t\t\taria-label=\"Follow @elit-altum on GitHub\"\r\n\t\t\t\t>\r\n\t\t\t\t\tFollow @elit-altum\r\n\t\t\t\t</GitHubButton>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// Parse time of notification\r\nconst getTime = (date) => {\r\n\tconst givenDate = new Date(date).setHours(0, 0, 0, 0);\r\n\tconst today = new Date(Date.now()).setHours(0, 0, 0, 0);\r\n\r\n\tconst difference = today - givenDate;\r\n\r\n\tconst dateObj = {\r\n\t\t0: \"Today\",\r\n\t\t86400000: \"Yesterday\",\r\n\t};\r\n\r\n\treturn (\r\n\t\tdateObj[difference] ||\r\n\t\tnew Date(date).toLocaleDateString(\"en-us\", {\r\n\t\t\tyear: \"numeric\",\r\n\t\t\tmonth: \"long\",\r\n\t\t\tday: \"numeric\",\r\n\t\t})\r\n\t);\r\n};\r\n\r\nconst Notification = ({ notif }) => {\r\n\treturn (\r\n\t\t<div className=\"my-notif\" onClick={() => history.push(notif.link)}>\r\n\t\t\t<div className=\"my-notif-details\">\r\n\t\t\t\t<img className=\"my-notif-image\" src={notif.photo} />\r\n\t\t\t\t<div className=\"my-notif-text\">\r\n\t\t\t\t\t<p className=\"my-notif-heading\">{notif.message}</p>\r\n\t\t\t\t\t<p className=\"my-notif-date\">{getTime(notif.createdAt)}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{notif.post && <img className=\"my-notif-post\" src={notif.post} />}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Notifications = ({ loading, notifs }) => {\r\n\tuseEffect(() => {\r\n\t\tconst markNotifsAsRead = async () => {\r\n\t\t\tif (!notifs) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst url = \"/api/v1/users/notifications/read\";\r\n\t\t\t\tawait axios({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdate: notifs[0].createdAt,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// console.log(e);\r\n\t\t\t}\r\n\t\t};\r\n\t\tmarkNotifsAsRead();\r\n\t});\r\n\treturn (\r\n\t\t<div class=\"notifs-page\">\r\n\t\t\t{!loading ? (\r\n\t\t\t\t<div className=\"my-notifs\">\r\n\t\t\t\t\t<WelcomeNotification />\r\n\t\t\t\t\t{notifs.map((notif, index) => (\r\n\t\t\t\t\t\t<Notification notif={notif} index={index + 1} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<PageLoader />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tnotifs: state.notifications.notifications,\r\n\tloading: state.notifications.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Notifications);\r\n","import React, { useEffect } from \"react\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport PublicRoute from \"./PublicRoute\";\r\n\r\nimport Timeline from \"../components/Timeline\";\r\nimport Trending from \"../components/TrendingPage\";\r\nimport NearbyPosts from \"../components/NearbyPosts\";\r\nimport LoginForm from \"../components/Login\";\r\nimport SignupForm from \"../components/Signup\";\r\nimport PostDetail from \"../components/PostDetails\";\r\nimport UserProfile from \"../components/UserProfile\";\r\nimport CreatePost from \"../components/CreatePost\";\r\nimport EditUserProfile from \"../components/EditUserProfile\";\r\nimport SearchUsers from \"../components/SearchUsers\";\r\nimport PageNotFound from \"../components/PageNotFound\";\r\nimport PageLoader from \"../components/PageLoader\";\r\nimport Notifications from \"../components/Notifications\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst AppRouter = (props) => {\r\n\t// Fetch initial states\r\n\tuseEffect(() => {\r\n\t\tprops.isLoggedIn();\r\n\t\tprops.fetchTimeline();\r\n\t\tprops.fetchTrending();\r\n\t\tprops.fetchNotifications();\r\n\t\tsetInterval(() => {\r\n\t\t\tprops.checkNotifications();\r\n\t\t}, 5000);\r\n\t}, []);\r\n\r\n\treturn !props.loading ? (\r\n\t\t<Router history={history}>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PublicRoute path=\"/login\" component={LoginForm} />\r\n\t\t\t\t<PublicRoute path=\"/signup\" component={SignupForm} />\r\n\r\n\t\t\t\t<PrivateRoute path=\"/\" component={Timeline} exact={true} />\r\n\t\t\t\t<PrivateRoute path=\"/trending\" component={Trending} exact={true} />\r\n\t\t\t\t<PrivateRoute path=\"/post/create\" component={CreatePost} exact={true} />\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tpath=\"/post/:postId\"\r\n\t\t\t\t\tcomponent={PostDetail}\r\n\t\t\t\t\texact={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tpath=\"/post/nearby/:center\"\r\n\t\t\t\t\tcomponent={NearbyPosts}\r\n\t\t\t\t\texact={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute path=\"/update\" component={EditUserProfile} exact={true} />\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tpath=\"/searchUsers\"\r\n\t\t\t\t\tcomponent={SearchUsers}\r\n\t\t\t\t\texact={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tpath=\"/user/:username\"\r\n\t\t\t\t\tcomponent={UserProfile}\r\n\t\t\t\t\texact={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tpath=\"/notifications\"\r\n\t\t\t\t\tcomponent={Notifications}\r\n\t\t\t\t\texact={true}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Route path=\"/\" component={PageNotFound} />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t) : (\r\n\t\t<PageLoader />\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tisLoggedIn: () => dispatch(actions.getAuthToken()),\r\n\tfetchTimeline: () => dispatch(actions.fetchMyTimeline()),\r\n\tfetchTrending: () => dispatch(actions.fetchTrendingPosts()),\r\n\tfetchNotifications: () => dispatch(actions.fetchNotifications()),\r\n\tcheckNotifications: () => dispatch(actions.checkNotifications()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tloading: state.auth.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppRouter);\r\n","export const getAuthToken = () => ({\r\n\ttype: \"FETCH_AUTH_TOKEN\",\r\n});\r\n\r\nexport const fetchMyTimeline = () => ({\r\n\ttype: \"FETCH_TIMELINE\",\r\n});\r\n\r\nexport const fetchTrendingPosts = () => ({\r\n\ttype: \"FETCH_TRENDING\",\r\n});\r\n\r\nexport const fetchNotifications = () => ({\r\n\ttype: \"FETCH_NOTIFICATIONS\",\r\n});\r\nexport const checkNotifications = () => ({\r\n\ttype: \"CHECK_NOTIFICATIONS\",\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"./store\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport AppRouter from \"./router/router\";\r\n\r\nimport \"./styles/index.scss\";\r\n\r\nconst jsx = (\r\n\t<Provider store={store}>\r\n\t\t<ToastContainer\r\n\t\t\tposition=\"top-right\"\r\n\t\t\tautoClose={5000}\r\n\t\t\thideProgressBar={false}\r\n\t\t\tnewestOnTop={true}\r\n\t\t\tcloseOnClick\r\n\t\t\trtl={false}\r\n\t\t\tpauseOnFocusLoss\r\n\t\t\tdraggable\r\n\t\t\tpauseOnHover\r\n\t\t/>\r\n\t\t<AppRouter />\r\n\t</Provider>\r\n);\r\n\r\nReactDOM.render(jsx, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}